import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';
import * as i0 from "@angular/core";
export class UITreeViewComponent {
    constructor(cdr) {
        this.cdr = cdr;
        this.items = [
            {
                id: '1',
                label: 'Frutas',
                children: [
                    {
                        id: '2',
                        label: 'Tropicales',
                        children: [
                            {
                                id: '3',
                                label: 'Piña'
                            },
                            {
                                id: '3',
                                label: 'Melocoton'
                            },
                        ]
                    },
                    {
                        id: '4',
                        label: 'Nacionales',
                        children: [
                            {
                                id: '5',
                                label: 'Naranjas'
                            },
                            {
                                id: '6',
                                label: 'Sandias'
                            },
                        ]
                    },
                ]
            },
            {
                id: '313',
                label: 'Countries',
                children: [
                    {
                        id: '411',
                        label: 'Spain'
                    },
                    {
                        id: '111',
                        label: 'Franch'
                    },
                    {
                        id: '311',
                        label: 'Italy'
                    }
                ]
            }
        ];
        this.outputSelectItem = new EventEmitter();
        this.itemSelected = [];
        this.withItemsSelected = false;
    }
    ngOnInit() {
        if (this.config) {
            this.withItemsSelected = (this.config.withSelected ?
                true :
                false);
        }
    }
    selectItem(node) {
        this.outputSelectItem.emit(node);
    }
    isExpanded(node) {
        //this.findNode(node);
        this.cdr.markForCheck();
    }
    isNodeSelected(idNode) {
        return this.itemSelected.find((node) => node.selected.id === idNode);
    }
    findNode(node) {
        const visited = new Set();
        for (const currentNode of this.items) {
            if (this.processNode(node, currentNode, visited)) {
                break;
            }
        }
        this.cdr.detectChanges();
    }
    processNode(node, currentNode, visited) {
        if (visited.has(currentNode.id)) {
            return false;
        }
        visited.add(currentNode.id);
        if (currentNode.id === node.id) {
            if (this.verifyThisExistElementSelected(currentNode.id)) {
                this.deletedNode(currentNode.id);
            }
            else {
                if (!this.itemSelected) {
                    this.itemSelected = [{ selected: currentNode }];
                }
                else {
                    this.itemSelected.push({ selected: currentNode });
                }
            }
            this.cdr.markForCheck();
            return true;
        }
        // Process Childrens
        if (currentNode.children) {
            for (const child of currentNode.children) {
                if (this.processNode(node, child, visited)) {
                    return true;
                }
            }
        }
        return false;
    }
    verifyThisExistElementSelected(nodeId) {
        return !!this.itemSelected.find((node) => node.selected.id === nodeId);
    }
    deletedNode(nodeId) {
        this.itemSelected = this.itemSelected?.filter((node) => node.selected.id !== nodeId);
        this.cdr.detectChanges();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: UITreeViewComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.3.12", type: UITreeViewComponent, selector: "ui-tree-view", inputs: { config: "config", nodes: "nodes", items: "items" }, outputs: { outputSelectItem: "outputSelectItem" }, ngImport: i0, template: "<!-- <ul class=\"ui-tree-view\">\n        <li\n        *ngFor=\"let item of items\"\n        class=\"ui-tree-view-item\"\n        [class.ui-tree-view-item--expanded]=\"isNodeSelected(item.id)\"\n        [class.ui-tree-view-item--child]=\"!item.children\"\n        >\n        <p class=\"ui-tree-view-item-group\">\n            <button\n                *ngIf=\"item.children\"\n                class=\"ui-tree-view-item-btn\"\n                type=\"button\"\n                [attr.aria-label]=\"item.label\"\n                (click)=\"isExpanded(item)\">\n                <svg\n                    aria-hidden=\"true\"\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 16 16\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class=\"ui-tree-view-icon\"\n                    [class.ui-tree-view-icon--rotate]=\"isNodeSelected(item.id)\">\n                    <path\n                        d=\"M4.74666 14.08C5.07333 14.4067 5.6 14.4067 5.92666 14.08L11.5333 8.47333C11.5951 8.41165 11.6442 8.33839 11.6776 8.25774C11.7111 8.17709 11.7283 8.09064 11.7283 8.00333C11.7283 7.91601 11.7111 7.82956 11.6776 7.74891C11.6442 7.66826 11.5951 7.595 11.5333 7.53333L5.92 1.91999C5.6 1.59999 5.06666 1.59999 4.74666 1.91999C4.66906 1.9974 4.60749 2.08936 4.56548 2.1906C4.52347 2.29185 4.50184 2.40038 4.50184 2.50999C4.50184 2.6196 4.52347 2.72814 4.56548 2.82938C4.60749 2.93062 4.66906 3.02258 4.74666 3.09999L9.64 7.99999L4.74 12.9C4.42 13.2267 4.42 13.7533 4.74666 14.08Z\"\n                        fill=\"#9D3FE7\" />\n                </svg>\n            </button>\n            <span *ngIf=\"item.children\">\n                {{ item.label }}\n            </span>\n            <button\n                *ngIf=\"!item.children && withItemsSelected\"\n                class=\"ui-tree-view-item-select\"\n                [attr.aria-label]=\"item.label\"\n                (click)=\"selectItem(item)\">\n                {{ item.label }}\n            </button>\n            <span >\n\n            </span>\n        </p>\n        <ui-tree-view\n            *ngIf=\"item.children && isNodeSelected(item.id)\"\n            [class.ui-tree-view--collapse]=\"!isNodeSelected(item.id)\"\n            [config]=\"config\"\n            [items]=\"item.children\"\n            (outputSelectItem)=\"selectItem($event)\"\n        />\n    </li>\n</ul>\n\n<ng-container *ngFor=\"let item of nodes\">\n    <ul *ngFor=\"let node of item\" class=\"ui-tree-view\">\n        <li>\n            <p class=\"ui-tree-view-item-group\">\n                <button\n                    *ngIf=\"node.children\"\n                    class=\"ui-tree-view-item-btn\"\n                    type=\"button\"\n                    [attr.aria-label]=\"node.label\"\n                    (click)=\"isExpanded(node)\">\n                    <svg\n                        aria-hidden=\"true\"\n                        width=\"16\"\n                        height=\"16\"\n                        viewBox=\"0 0 16 16\"\n                        fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        class=\"ui-tree-view-icon\"\n                        [class.ui-tree-view-icon--rotate]=\"isNodeSelected(item.id)\">\n                        <path\n                            d=\"M4.74666 14.08C5.07333 14.4067 5.6 14.4067 5.92666 14.08L11.5333 8.47333C11.5951 8.41165 11.6442 8.33839 11.6776 8.25774C11.7111 8.17709 11.7283 8.09064 11.7283 8.00333C11.7283 7.91601 11.7111 7.82956 11.6776 7.74891C11.6442 7.66826 11.5951 7.595 11.5333 7.53333L5.92 1.91999C5.6 1.59999 5.06666 1.59999 4.74666 1.91999C4.66906 1.9974 4.60749 2.08936 4.56548 2.1906C4.52347 2.29185 4.50184 2.40038 4.50184 2.50999C4.50184 2.6196 4.52347 2.72814 4.56548 2.82938C4.60749 2.93062 4.66906 3.02258 4.74666 3.09999L9.64 7.99999L4.74 12.9C4.42 13.2267 4.42 13.7533 4.74666 14.08Z\"\n                            fill=\"#9D3FE7\" />\n                    </svg>\n                </button>\n            </p>\n        </li>\n    </ul>\n</ng-container> -->\n", styles: ["@import\"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\";:root{--font-family: \"Poppins\", sans-serif;--font-size: 16px;--line-height: 1.5;--corporate-purple: #9D3FE7;--corporate-gradient: 159.13deg, #9D3FE7 -24.13%, #602093 132.21%;--grayscale-black: #1A141F;--grayscale-white: #FFFFFF;--grayscale-hint-text: #4B3A5A;--grayscale-border: #ABA7AF;--grayscale-disabled: #D4D2D5;--grayscale-spacer: #D9D1E0;--grayscale-spacer-light: #E5E0EB;--grayscale-bg-light-grey: #F5F3F7;--informing-error: #D51A52;--informing-attention: #FF9500;--informing-approval: #00B998;--informing-link: #0F0BAB}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}main{height:max-content}body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);min-height:100vh;vertical-align:middle}a{text-decoration:none}ul{padding:0;list-style:none}input[type=\"*\"]{outline:none;border:none;font-family:inherit;font-size:inherit}img{display:inline-block;max-width:100%}button{border:none;outline:none;background-color:transparent}@keyframes collapseAnimation{0%{clip-path:polygon(0 0,100% 0,100% 100%,0% 100%)}99%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}to{clip-path:polygon(0 0,100% 0,100% 0,0 0)}}@keyframes expandAnimation{0%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}99%{clip-path:polygon(0 0,100% 0,100% 100%,0% 100%)}to{clip-path:none}}.visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;left:0}.ui-tree-view{width:fit-content;display:flex;flex-direction:column;padding-left:1rem}.ui-tree-view-item{font-weight:400;font-size:1em;line-height:148%;color:var(--grayscale-black)}.ui-tree-view-item-group{display:flex;align-items:center;gap:.5em}.ui-tree-view-item-group svg{cursor:pointer}.ui-tree-view-item-btn{display:flex;align-items:center;justify-content:center;padding:0}.ui-tree-view-item-btn:focus-within{outline-width:2px;outline-style:solid;outline-color:var(--corporate-purple);outline-offset:2px}.ui-tree-view-item-select{font:inherit}.ui-tree-view-item-select:focus-within{outline-width:2px;outline-style:solid;outline-color:var(--corporate-purple);outline-offset:1px}.ui-tree-view-item ul{overflow:hidden;height:0;animation:collapseAnimation .25s ease-in-out forwards}@media (prefers-reduced-motion: reduce){.ui-tree-view-item ul{animation:collapseAnimation forwards}}.ui-tree-view-item--expanded ul{height:auto;animation:expandAnimation .25s ease-in-out forwards}@media (prefers-reduced-motion: reduce){.ui-tree-view-item--expanded ul{animation:expandAnimation forwards}}.ui-tree-view-item--child{padding-left:calc(1rem - 8px);padding-top:.25rem;padding-bottom:.25rem}.ui-tree-view-icon{transition:transform ease-in-out .25s}@media (prefers-reduced-motion: reduce){.ui-tree-view-icon{transition:none}}.ui-tree-view-icon--rotate{transform:rotate(90deg)}\n"], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: UITreeViewComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ui-tree-view', standalone: false, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, template: "<!-- <ul class=\"ui-tree-view\">\n        <li\n        *ngFor=\"let item of items\"\n        class=\"ui-tree-view-item\"\n        [class.ui-tree-view-item--expanded]=\"isNodeSelected(item.id)\"\n        [class.ui-tree-view-item--child]=\"!item.children\"\n        >\n        <p class=\"ui-tree-view-item-group\">\n            <button\n                *ngIf=\"item.children\"\n                class=\"ui-tree-view-item-btn\"\n                type=\"button\"\n                [attr.aria-label]=\"item.label\"\n                (click)=\"isExpanded(item)\">\n                <svg\n                    aria-hidden=\"true\"\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 16 16\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class=\"ui-tree-view-icon\"\n                    [class.ui-tree-view-icon--rotate]=\"isNodeSelected(item.id)\">\n                    <path\n                        d=\"M4.74666 14.08C5.07333 14.4067 5.6 14.4067 5.92666 14.08L11.5333 8.47333C11.5951 8.41165 11.6442 8.33839 11.6776 8.25774C11.7111 8.17709 11.7283 8.09064 11.7283 8.00333C11.7283 7.91601 11.7111 7.82956 11.6776 7.74891C11.6442 7.66826 11.5951 7.595 11.5333 7.53333L5.92 1.91999C5.6 1.59999 5.06666 1.59999 4.74666 1.91999C4.66906 1.9974 4.60749 2.08936 4.56548 2.1906C4.52347 2.29185 4.50184 2.40038 4.50184 2.50999C4.50184 2.6196 4.52347 2.72814 4.56548 2.82938C4.60749 2.93062 4.66906 3.02258 4.74666 3.09999L9.64 7.99999L4.74 12.9C4.42 13.2267 4.42 13.7533 4.74666 14.08Z\"\n                        fill=\"#9D3FE7\" />\n                </svg>\n            </button>\n            <span *ngIf=\"item.children\">\n                {{ item.label }}\n            </span>\n            <button\n                *ngIf=\"!item.children && withItemsSelected\"\n                class=\"ui-tree-view-item-select\"\n                [attr.aria-label]=\"item.label\"\n                (click)=\"selectItem(item)\">\n                {{ item.label }}\n            </button>\n            <span >\n\n            </span>\n        </p>\n        <ui-tree-view\n            *ngIf=\"item.children && isNodeSelected(item.id)\"\n            [class.ui-tree-view--collapse]=\"!isNodeSelected(item.id)\"\n            [config]=\"config\"\n            [items]=\"item.children\"\n            (outputSelectItem)=\"selectItem($event)\"\n        />\n    </li>\n</ul>\n\n<ng-container *ngFor=\"let item of nodes\">\n    <ul *ngFor=\"let node of item\" class=\"ui-tree-view\">\n        <li>\n            <p class=\"ui-tree-view-item-group\">\n                <button\n                    *ngIf=\"node.children\"\n                    class=\"ui-tree-view-item-btn\"\n                    type=\"button\"\n                    [attr.aria-label]=\"node.label\"\n                    (click)=\"isExpanded(node)\">\n                    <svg\n                        aria-hidden=\"true\"\n                        width=\"16\"\n                        height=\"16\"\n                        viewBox=\"0 0 16 16\"\n                        fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        class=\"ui-tree-view-icon\"\n                        [class.ui-tree-view-icon--rotate]=\"isNodeSelected(item.id)\">\n                        <path\n                            d=\"M4.74666 14.08C5.07333 14.4067 5.6 14.4067 5.92666 14.08L11.5333 8.47333C11.5951 8.41165 11.6442 8.33839 11.6776 8.25774C11.7111 8.17709 11.7283 8.09064 11.7283 8.00333C11.7283 7.91601 11.7111 7.82956 11.6776 7.74891C11.6442 7.66826 11.5951 7.595 11.5333 7.53333L5.92 1.91999C5.6 1.59999 5.06666 1.59999 4.74666 1.91999C4.66906 1.9974 4.60749 2.08936 4.56548 2.1906C4.52347 2.29185 4.50184 2.40038 4.50184 2.50999C4.50184 2.6196 4.52347 2.72814 4.56548 2.82938C4.60749 2.93062 4.66906 3.02258 4.74666 3.09999L9.64 7.99999L4.74 12.9C4.42 13.2267 4.42 13.7533 4.74666 14.08Z\"\n                            fill=\"#9D3FE7\" />\n                    </svg>\n                </button>\n            </p>\n        </li>\n    </ul>\n</ng-container> -->\n", styles: ["@import\"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\";:root{--font-family: \"Poppins\", sans-serif;--font-size: 16px;--line-height: 1.5;--corporate-purple: #9D3FE7;--corporate-gradient: 159.13deg, #9D3FE7 -24.13%, #602093 132.21%;--grayscale-black: #1A141F;--grayscale-white: #FFFFFF;--grayscale-hint-text: #4B3A5A;--grayscale-border: #ABA7AF;--grayscale-disabled: #D4D2D5;--grayscale-spacer: #D9D1E0;--grayscale-spacer-light: #E5E0EB;--grayscale-bg-light-grey: #F5F3F7;--informing-error: #D51A52;--informing-attention: #FF9500;--informing-approval: #00B998;--informing-link: #0F0BAB}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}main{height:max-content}body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);min-height:100vh;vertical-align:middle}a{text-decoration:none}ul{padding:0;list-style:none}input[type=\"*\"]{outline:none;border:none;font-family:inherit;font-size:inherit}img{display:inline-block;max-width:100%}button{border:none;outline:none;background-color:transparent}@keyframes collapseAnimation{0%{clip-path:polygon(0 0,100% 0,100% 100%,0% 100%)}99%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}to{clip-path:polygon(0 0,100% 0,100% 0,0 0)}}@keyframes expandAnimation{0%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}99%{clip-path:polygon(0 0,100% 0,100% 100%,0% 100%)}to{clip-path:none}}.visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;left:0}.ui-tree-view{width:fit-content;display:flex;flex-direction:column;padding-left:1rem}.ui-tree-view-item{font-weight:400;font-size:1em;line-height:148%;color:var(--grayscale-black)}.ui-tree-view-item-group{display:flex;align-items:center;gap:.5em}.ui-tree-view-item-group svg{cursor:pointer}.ui-tree-view-item-btn{display:flex;align-items:center;justify-content:center;padding:0}.ui-tree-view-item-btn:focus-within{outline-width:2px;outline-style:solid;outline-color:var(--corporate-purple);outline-offset:2px}.ui-tree-view-item-select{font:inherit}.ui-tree-view-item-select:focus-within{outline-width:2px;outline-style:solid;outline-color:var(--corporate-purple);outline-offset:1px}.ui-tree-view-item ul{overflow:hidden;height:0;animation:collapseAnimation .25s ease-in-out forwards}@media (prefers-reduced-motion: reduce){.ui-tree-view-item ul{animation:collapseAnimation forwards}}.ui-tree-view-item--expanded ul{height:auto;animation:expandAnimation .25s ease-in-out forwards}@media (prefers-reduced-motion: reduce){.ui-tree-view-item--expanded ul{animation:expandAnimation forwards}}.ui-tree-view-item--child{padding-left:calc(1rem - 8px);padding-top:.25rem;padding-bottom:.25rem}.ui-tree-view-icon{transition:transform ease-in-out .25s}@media (prefers-reduced-motion: reduce){.ui-tree-view-icon{transition:none}}.ui-tree-view-icon--rotate{transform:rotate(90deg)}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { config: [{
                type: Input
            }], nodes: [{
                type: Input
            }], items: [{
                type: Input
            }], outputSelectItem: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS12aWV3LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL21hbmpvbi11aS9zcmMvbGliL2NvbXBvbmVudHMvdHJlZS90cmVlLXZpZXcuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbWFuam9uLXVpL3NyYy9saWIvY29tcG9uZW50cy90cmVlL3RyZWUtdmlldy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQWlCLHVCQUF1QixFQUFxQixTQUFTLEVBQWMsWUFBWSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQTJCLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDOztBQVdsTSxNQUFNLE9BQU8sbUJBQW1CO0lBZ0U5QixZQUNtQixHQUFzQjtRQUF0QixRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQTdEaEMsVUFBSyxHQUFnQjtZQUM1QjtnQkFDRSxFQUFFLEVBQUUsR0FBRztnQkFDUCxLQUFLLEVBQUUsUUFBUTtnQkFDZixRQUFRLEVBQUU7b0JBQ1I7d0JBQ0UsRUFBRSxFQUFFLEdBQUc7d0JBQ1AsS0FBSyxFQUFFLFlBQVk7d0JBQ25CLFFBQVEsRUFBRTs0QkFDUjtnQ0FDRSxFQUFFLEVBQUUsR0FBRztnQ0FDUCxLQUFLLEVBQUUsTUFBTTs2QkFDZDs0QkFDRDtnQ0FDRSxFQUFFLEVBQUUsR0FBRztnQ0FDUCxLQUFLLEVBQUUsV0FBVzs2QkFDbkI7eUJBQ0Y7cUJBQ0Y7b0JBQ0Q7d0JBQ0UsRUFBRSxFQUFFLEdBQUc7d0JBQ1AsS0FBSyxFQUFFLFlBQVk7d0JBQ25CLFFBQVEsRUFBRTs0QkFDUjtnQ0FDRSxFQUFFLEVBQUUsR0FBRztnQ0FDUCxLQUFLLEVBQUUsVUFBVTs2QkFDbEI7NEJBQ0Q7Z0NBQ0UsRUFBRSxFQUFFLEdBQUc7Z0NBQ1AsS0FBSyxFQUFFLFNBQVM7NkJBQ2pCO3lCQUNGO3FCQUNGO2lCQUNGO2FB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QUNwQixJQUFJLFdBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN6QixLQUFLLE1BQU0sS0FBSyxJQUFJLFdBQVcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDekMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQztvQkFDM0MsT0FBTyxJQUFJLENBQUM7Z0JBQ2QsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBRUQsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRU8sOEJBQThCLENBQ3BDLE1BQWM7UUFFZCxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FDN0IsQ0FBQyxJQUF1QixFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsS0FBSyxNQUFNLENBQ3pELENBQUM7SUFDSixDQUFDO0lBRU8sV0FBVyxDQUFDLE1BQWM7UUFDaEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FDM0MsQ0FBQyxJQUF1QixFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsS0FBSyxNQUFNLENBQ3pELENBQUM7UUFFRixJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQzNCLENBQUM7K0dBcEtVLG1CQUFtQjttR0FBbkIsbUJBQW1CLHFLQ1poQyxraUlBZ0ZBOzs0RkRwRWEsbUJBQW1CO2tCQVIvQixTQUFTOytCQUNFLGNBQWMsY0FDWixLQUFLLG1CQUdBLHVCQUF1QixDQUFDLE1BQU0saUJBQ2hDLGlCQUFpQixDQUFDLElBQUk7c0ZBSTVCLE1BQU07c0JBQWQsS0FBSztnQkFDRyxLQUFLO3NCQUFiLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLO2dCQXVESSxnQkFBZ0I7c0JBQXpCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0LCBRdWVyeUxpc3QsIFZpZXdDaGlsZHJlbiwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IElUcmVlVmlldywgSVRyZWVWaWV3Q29uZmlndXJhdGlvbiwgSVRyZWVWaWV3Tm9kZXMsIElUcmVlVmlld1NlbGVjdGVkIH0gZnJvbSAnLi90cmVlLmludGVyZmFjZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3VpLXRyZWUtdmlldycsXG4gIHN0YW5kYWxvbmU6IGZhbHNlLFxuICB0ZW1wbGF0ZVVybDogJy4vdHJlZS12aWV3LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmw6ICcuL3RyZWUtdmlldy5jb21wb25lbnQuc2NzcycsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFVJVHJlZVZpZXdDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgpIGNvbmZpZyE6IElUcmVlVmlld0NvbmZpZ3VyYXRpb247XG4gIEBJbnB1dCgpIG5vZGVzITogSVRyZWVWaWV3Tm9kZXNbXVtdO1xuICBASW5wdXQoKSBpdGVtczogSVRyZWVWaWV3W10gPSBbXG4gICAge1xuICAgICAgaWQ6ICcxJyxcbiAgICAgIGxhYmVsOiAnRnJ1dGFzJyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzInLFxuICAgICAgICAgIGxhYmVsOiAnVHJvcGljYWxlcycsXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICczJyxcbiAgICAgICAgICAgICAgbGFiZWw6ICdQacOxYSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnMycsXG4gICAgICAgICAgICAgIGxhYmVsOiAnTWVsb2NvdG9uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzQnLFxuICAgICAgICAgIGxhYmVsOiAnTmFjaW9uYWxlcycsXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICc1JyxcbiAgICAgICAgICAgICAgbGFiZWw6ICdOYXJhbmphcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnNicsXG4gICAgICAgICAgICAgIGxhYmVsOiAnU2FuZGlhcydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgXVxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICczMTMnLFxuICAgICAgbGFiZWw6ICdDb3VudHJpZXMnLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnNDExJyxcbiAgICAgICAgICBsYWJlbDogJ1NwYWluJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICcxMTEnLFxuICAgICAgICAgIGxhYmVsOiAnRnJhbmNoJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICczMTEnLFxuICAgICAgICAgIGxhYmVsOiAnSXRhbHknXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF07XG5cbiAgQE91dHB1dCgpIG91dHB1dFNlbGVjdEl0ZW06IEV2ZW50RW1pdHRlcjxJVHJlZVZpZXc+ID0gbmV3IEV2ZW50RW1pdHRlcjxJVHJlZVZpZXc+KCk7XG5cbiAgcHVibGljIGl0ZW1TZWxlY3RlZDogSVRyZWVWaWV3U2VsZWN0ZWRbXSA9IFtdO1xuICBwdWJsaWMgd2l0aEl0ZW1zU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWZcbiAgKSB7IH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb25maWcpIHtcbiAgICAgIHRoaXMud2l0aEl0ZW1zU2VsZWN0ZWQgPSAoXG4gICAgICAgIHRoaXMuY29uZmlnLndpdGhTZWxlY3RlZCA/XG4gICAgICAgICAgdHJ1ZSA6XG4gICAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNlbGVjdEl0ZW0obm9kZTogSVRyZWVWaWV3KSB7XG4gICAgdGhpcy5vdXRwdXRTZWxlY3RJdGVtLmVtaXQobm9kZSk7XG4gIH1cblxuXG4gIHB1YmxpYyBpc0V4cGFuZGVkKG5vZGU6IElUcmVlVmlld05vZGVzKTogdm9pZCB7XG4gICAgLy90aGlzLmZpbmROb2RlKG5vZGUpO1xuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcHVibGljIGlzTm9kZVNlbGVjdGVkKGlkTm9kZTogc3RyaW5nKTogSVRyZWVWaWV3U2VsZWN0ZWQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLml0ZW1TZWxlY3RlZC5maW5kKFxuICAgICAgKG5vZGU6IElUcmVlVmlld1NlbGVjdGVkKSA9PiBub2RlLnNlbGVjdGVkLmlkID09PSBpZE5vZGVcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kTm9kZShub2RlOiBJVHJlZVZpZXcpIHtcbiAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICBmb3IgKGNvbnN0IGN1cnJlbnROb2RlIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgIGlmICh0aGlzLnByb2Nlc3NOb2RlKG5vZGUsIGN1cnJlbnROb2RlLCB2aXNpdGVkKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmNkci5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cblxuICBwcml2YXRlIHByb2Nlc3NOb2RlKFxuICAgIG5vZGU6IElUcmVlVmlldyxcbiAgICBjdXJyZW50Tm9kZTogSVRyZWVWaWV3LFxuICAgIHZpc2l0ZWQ6IFNldDxzdHJpbmc+XG4gICk6IGJvb2xlYW4ge1xuXG5cblxuICAgIGlmICh2aXNpdGVkLmhhcyhjdXJyZW50Tm9kZS5pZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2aXNpdGVkLmFkZChjdXJyZW50Tm9kZS5pZCk7XG5cbiAgICBpZiAoY3VycmVudE5vZGUuaWQgPT09IG5vZGUuaWQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy52ZXJpZnlUaGlzRXhpc3RFbGVtZW50U2VsZWN0ZWQoY3VycmVudE5vZGUuaWQpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5kZWxldGVkTm9kZShjdXJyZW50Tm9kZS5pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbVNlbGVjdGVkKSB7XG4gICAgICAgICAgdGhpcy5pdGVtU2VsZWN0ZWQgPSBbeyBzZWxlY3RlZDogY3VycmVudE5vZGUgfV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5pdGVtU2VsZWN0ZWQucHVzaCh7IHNlbGVjdGVkOiBjdXJyZW50Tm9kZSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmNkci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyBDaGlsZHJlbnNcbiAgICBpZiAoY3VycmVudE5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY3VycmVudE5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc05vZGUobm9kZSwgY2hpbGQsIHZpc2l0ZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHZlcmlmeVRoaXNFeGlzdEVsZW1lbnRTZWxlY3RlZChcbiAgICBub2RlSWQ6IHN0cmluZ1xuICApIHtcbiAgICByZXR1cm4gISF0aGlzLml0ZW1TZWxlY3RlZC5maW5kKFxuICAgICAgKG5vZGU6IElUcmVlVmlld1NlbGVjdGVkKSA9PiBub2RlLnNlbGVjdGVkLmlkID09PSBub2RlSWRcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBkZWxldGVkTm9kZShub2RlSWQ6IFN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuaXRlbVNlbGVjdGVkID0gdGhpcy5pdGVtU2VsZWN0ZWQ/LmZpbHRlcihcbiAgICAgIChub2RlOiBJVHJlZVZpZXdTZWxlY3RlZCkgPT4gbm9kZS5zZWxlY3RlZC5pZCAhPT0gbm9kZUlkXG4gICAgKTtcblxuICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcbiAgfVxufSIsIjwhLS0gPHVsIGNsYXNzPVwidWktdHJlZS12aWV3XCI+XG4gICAgICAgIDxsaVxuICAgICAgICAqbmdGb3I9XCJsZXQgaXRlbSBvZiBpdGVtc1wiXG4gICAgICAgIGNsYXNzPVwidWktdHJlZS12aWV3LWl0ZW1cIlxuICAgICAgICBbY2xhc3MudWktdHJlZS12aWV3LWl0ZW0tLWV4cGFuZGVkXT1cImlzTm9kZVNlbGVjdGVkKGl0ZW0uaWQpXCJcbiAgICAgICAgW2NsYXNzLnVpLXRyZWUtdmlldy1pdGVtLS1jaGlsZF09XCIhaXRlbS5jaGlsZHJlblwiXG4gICAgICAgID5cbiAgICAgICAgPHAgY2xhc3M9XCJ1aS10cmVlLXZpZXctaXRlbS1ncm91cFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICpuZ0lmPVwiaXRlbS5jaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ1aS10cmVlLXZpZXctaXRlbS1idG5cIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiaXRlbS5sYWJlbFwiXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cImlzRXhwYW5kZWQoaXRlbSlcIj5cbiAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMTZcIlxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxNlwiXG4gICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTYgMTZcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInVpLXRyZWUtdmlldy1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgW2NsYXNzLnVpLXRyZWUtdmlldy1pY29uLS1yb3RhdGVdPVwiaXNOb2RlU2VsZWN0ZWQoaXRlbS5pZClcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNNC43NDY2NiAxNC4wOEM1LjA3MzMzIDE0LjQwNjcgNS42IDE0LjQwNjcgNS45MjY2NiAxNC4wOEwxMS41MzMzIDguNDczMzNDMTEuNTk1MSA4LjQxMTY1IDExLjY0NDIgOC4zMzgzOSAxMS42Nzc2IDguMjU3NzRDMTEuNzExMSA4LjE3NzA5IDExLjcyODMgOC4wOTA2NCAxMS43MjgzIDguMDAzMzNDMTEuNzI4MyA3LjkxNjAxIDExLjcxMTEgNy44Mjk1NiAxMS42Nzc2IDcuNzQ4OTFDMTEuNjQ0MiA3LjY2ODI2IDExLjU5NTEgNy41OTUgMTEuNTMzMyA3LjUzMzMzTDUuOTIgMS45MTk5OUM1LjYgMS41OTk5OSA1LjA2NjY2IDEuNTk5OTkgNC43NDY2NiAxLjkxOTk5QzQuNjY5MDYgMS45OTc0IDQuNjA3NDkgMi4wODkzNiA0LjU2NTQ4IDIuMTkwNkM0LjUyMzQ3IDIuMjkxODUgNC41MDE4NCAyLjQwMDM4IDQuNTAxODQgMi41MDk5OUM0LjUwMTg0IDIuNjE5NiA0LjUyMzQ3IDIuNzI4MTQgNC41NjU0OCAyLjgyOTM4QzQuNjA3NDkgMi45MzA2MiA0LjY2OTA2IDMuMDIyNTggNC43NDY2NiAzLjA5OTk5TDkuNjQgNy45OTk5OUw0Ljc0IDEyLjlDNC40MiAxMy4yMjY3IDQuNDIgMTMuNzUzMyA0Ljc0NjY2IDE0LjA4WlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzlEM0ZFN1wiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwiaXRlbS5jaGlsZHJlblwiPlxuICAgICAgICAgICAgICAgIHt7IGl0ZW0ubGFiZWwgfX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAqbmdJZj1cIiFpdGVtLmNoaWxkcmVuICYmIHdpdGhJdGVtc1NlbGVjdGVkXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInVpLXRyZWUtdmlldy1pdGVtLXNlbGVjdFwiXG4gICAgICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJpdGVtLmxhYmVsXCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwic2VsZWN0SXRlbShpdGVtKVwiPlxuICAgICAgICAgICAgICAgIHt7IGl0ZW0ubGFiZWwgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gPlxuXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHVpLXRyZWUtdmlld1xuICAgICAgICAgICAgKm5nSWY9XCJpdGVtLmNoaWxkcmVuICYmIGlzTm9kZVNlbGVjdGVkKGl0ZW0uaWQpXCJcbiAgICAgICAgICAgIFtjbGFzcy51aS10cmVlLXZpZXctLWNvbGxhcHNlXT1cIiFpc05vZGVTZWxlY3RlZChpdGVtLmlkKVwiXG4gICAgICAgICAgICBbY29uZmlnXT1cImNvbmZpZ1wiXG4gICAgICAgICAgICBbaXRlbXNdPVwiaXRlbS5jaGlsZHJlblwiXG4gICAgICAgICAgICAob3V0cHV0U2VsZWN0SXRlbSk9XCJzZWxlY3RJdGVtKCRldmVudClcIlxuICAgICAgICAvPlxuICAgIDwvbGk+XG48L3VsPlxuXG48bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBpdGVtIG9mIG5vZGVzXCI+XG4gICAgPHVsICpuZ0Zvcj1cImxldCBub2RlIG9mIGl0ZW1cIiBjbGFzcz1cInVpLXRyZWUtdmlld1wiPlxuICAgICAgICA8bGk+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInVpLXRyZWUtdmlldy1pdGVtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAqbmdJZj1cIm5vZGUuY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInVpLXRyZWUtdmlldy1pdGVtLWJ0blwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIm5vZGUubGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiaXNFeHBhbmRlZChub2RlKVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxNlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxNlwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ1aS10cmVlLXZpZXctaWNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbY2xhc3MudWktdHJlZS12aWV3LWljb24tLXJvdGF0ZV09XCJpc05vZGVTZWxlY3RlZChpdGVtLmlkKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTQuNzQ2NjYgMTQuMDhDNS4wNzMzMyAxNC40MDY3IDUuNiAxNC40MDY3IDUuOTI2NjYgMTQuMDhMMTEuNTMzMyA4LjQ3MzMzQzExLjU5NTEgOC40MTE2NSAxMS42NDQyIDguMzM4MzkgMTEuNjc3NiA4LjI1Nzc0QzExLjcxMTEgOC4xNzcwOSAxMS43MjgzIDguMDkwNjQgMTEuNzI4MyA4LjAwMzMzQzExLjcyODMgNy45MTYwMSAxMS43MTExIDcuODI5NTYgMTEuNjc3NiA3Ljc0ODkxQzExLjY0NDIgNy42NjgyNiAxMS41OTUxIDcuNTk1IDExLjUzMzMgNy41MzMzM0w1LjkyIDEuOTE5OTlDNS42IDEuNTk5OTkgNS4wNjY2NiAxLjU5OTk5IDQuNzQ2NjYgMS45MTk5OUM0LjY2OTA2IDEuOTk3NCA0LjYwNzQ5IDIuMDg5MzYgNC41NjU0OCAyLjE5MDZDNC41MjM0NyAyLjI5MTg1IDQuNTAxODQgMi40MDAzOCA0LjUwMTg0IDIuNTA5OTlDNC41MDE4NCAyLjYxOTYgNC41MjM0NyAyLjcyODE0IDQuNTY1NDggMi44MjkzOEM0LjYwNzQ5IDIuOTMwNjIgNC42NjkwNiAzLjAyMjU4IDQuNzQ2NjYgMy4wOTk5OUw5LjY0IDcuOTk5OTlMNC43NCAxMi45QzQuNDIgMTMuMjI2NyA0LjQyIDEzLjc1MzMgNC43NDY2NiAxNC4wOFpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjOUQzRkU3XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgIDwvbGk+XG4gICAgPC91bD5cbjwvbmctY29udGFpbmVyPiAtLT5cbiJdfQ==