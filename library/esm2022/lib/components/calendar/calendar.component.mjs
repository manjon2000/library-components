import { booleanAttribute, ChangeDetectionStrategy, Component, EventEmitter, inject, Input, Output, ViewEncapsulation } from '@angular/core';
import { CommonModule } from '@angular/common';
import { CoreManjonUI } from '../../../config/core.config';
import * as i0 from "@angular/core";
import * as i1 from "./calendar.service";
import * as i2 from "@angular/common";
export class UICalendarComponent {
    set startDate(start) {
        const startDate = new Date(start);
        startDate.setHours(0, 0, 0, 0);
        this._startDate = startDate;
        this.cdr.markForCheck();
    }
    ;
    set endDate(end) {
        const endDate = new Date(end);
        endDate.setHours(0, 0, 0, 0);
        this._endDate = endDate;
        this.cdr.markForCheck();
    }
    constructor(cdr, calendarService) {
        this.cdr = cdr;
        this.calendarService = calendarService;
        this.type = 'single';
        this.locale = 'es-ES';
        this.cellAspectRatio = 1;
        this.isShowDaysOtherMonth = true;
        this.dateSelect = new EventEmitter();
        this.dateRangeSelect = new EventEmitter();
        this.dateMultipleSelect = new EventEmitter();
        this.config = inject(CoreManjonUI);
        this.currentDate = new Date();
        this._currentOptionDate = 'start';
        this.allmonth = this.config.getTranslation(this.locale, 'monthNames');
    }
    ngOnInit() {
        const date = this._startDate || new Date();
        this.setYearMonth(date);
        this.initWeeks();
        this.weeks = this.calendarService.initWeeks$;
        this.getDayNames();
    }
    getDayNames() {
        const dayNames = this.config
            .getTranslation(this.locale, 'dayNames');
        if (Array.isArray(dayNames)) {
            this.dayNames = dayNames;
        }
    }
    ngOnChanges(changes) {
        if (changes['type'] && (changes['type'].previousValue !== changes['type'].currentValue)) {
            this.initWeeks();
        }
        if (changes['endDate'] && (changes['endDate'].previousValue !== changes['endDate'].currentValue)) {
            const endDate = new Date(changes['endDate'].currentValue);
            endDate.setHours(0, 0, 0, 0);
            this._endDate = endDate;
            this.setYearMonth(endDate);
            this.initWeeks();
        }
        if (changes['startDate'] && (changes['startDate'].previousValue !== changes['startDate'].currentValue)) {
            const startDate = new Date(changes['startDate'].currentValue);
            startDate.setHours(0, 0, 0, 0);
            this._startDate = startDate;
            this.setYearMonth(startDate);
            this.initWeeks();
        }
        if (changes['locale'] && (changes['locale'].previousValue !== changes['locale'].currentValue)) {
            this.getDayNames();
            this.allmonth = this.config.getTranslation(this.locale, 'monthNames');
        }
    }
    ngOnDestroy() {
        if (this._subscriptionWeeks) {
            this._subscriptionWeeks.unsubscribe();
        }
    }
    getDayName(index) {
        return this.dayNames[index];
    }
    getTranslation(key) {
        return this.config.getTranslation(this.locale, key);
    }
    initWeeks() {
        this.calendarService
            .decomposeMonthIntoWeeks(this.currentYear, this.currentMonth, this.type, this.isShowDaysOtherMonth, this._startDate, this._endDate);
    }
    trackByIndex(index, item) {
        return index;
    }
    trackByIndexToDayNames(index, item) {
        return index;
    }
    setCellAspectRatio(numCols) {
        const padding = (100 * this.cellAspectRatio) / numCols / 2;
        this._cellPadding = `${padding.toFixed(2)}%`;
        this._cellWidth = `${100 / numCols}%`;
        this.cdr.markForCheck();
    }
    onPrevMonth() {
        if (this.currentMonth === 1) {
            this.currentMonth = 12;
            this.currentYear--;
        }
        else {
            this.currentMonth--;
        }
        this.initWeeks();
        this.cdr.markForCheck();
    }
    onNextMonth() {
        if ((this.currentMonth + 1) === 12) {
            this.currentMonth = 1;
            this.currentYear++;
        }
        else {
            this.currentMonth++;
        }
        this.initWeeks();
        this.cdr.markForCheck();
    }
    isDateSelected(dateUnix) {
        const initialDate = this.calendarService.formatToUnix(this._startDate);
        return dateUnix === initialDate;
    }
    isCurrentDate(dateUnix) {
        const currentDateToUnix = this.calendarService.formatToUnix(new Date());
        return (dateUnix ? dateUnix === currentDateToUnix : false);
    }
    onSelectedDate(option) {
        switch (this.type) {
            case 'single':
                const startDate = this.calendarService.onSelectedDateSingle(option?.ISO8601);
                this._startDate = startDate;
                this.dateSelect.emit(startDate);
                break;
            case 'range':
                this.onSelectedDateRange(option?.ISO8601);
                this.toggleOptionDate();
                break;
        }
        this.cdr.markForCheck();
    }
    onSelectedDateRange(ISO8601) {
        switch (this._currentOptionDate) {
            case 'start':
                const startDate = this.calendarService.onSelectedDateSingle(ISO8601);
                this._startDate = startDate;
                this.initWeeks();
                break;
            case 'end':
                const endDate = this.calendarService.onSelectedDateSingle(ISO8601);
                this._endDate = endDate;
                this.initWeeks();
                if (this.verifyDateRange()) {
                    this.dateRangeSelect.emit({ start: this._startDate, end: this._endDate });
                }
                break;
        }
    }
    isEndDateRange(dateUnix) {
        return (this._endDate ?
            dateUnix === this.calendarService.formatToUnix(this._endDate) :
            false);
    }
    getCurrentMonth() {
        return this.allmonth[new Date(this._startDate || new Date()).getMonth()] ?? '0';
    }
    getCurrentYear() {
        return this._startDate.getFullYear() ?? new Date().getFullYear();
    }
    setYearMonth(date) {
        const currentDate = new Date(date);
        this.currentYear = currentDate.getFullYear();
        this.currentMonth = (currentDate.getMonth() + 1);
    }
    toggleOptionDate() {
        if (this._currentOptionDate === 'start') {
            if (this._endDate) {
                this._endDate = undefined;
            }
            this._currentOptionDate = 'end';
        }
        else {
            this.initWeeks();
            this._currentOptionDate = 'start';
        }
    }
    verifyDateRange() {
        if (!this._endDate)
            return false;
        const startDateToUnix = this.calendarService
            .formatToUnix(this._startDate);
        const endDateToUnix = this.calendarService
            .formatToUnix(this._endDate);
        return !!(endDateToUnix >= startDateToUnix);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: UICalendarComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.CalendarService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "17.3.12", type: UICalendarComponent, isStandalone: true, selector: "ui-calendar", inputs: { startDate: "startDate", endDate: "endDate", type: "type", locale: "locale", limitYearsPreview: "limitYearsPreview", cellAspectRatio: "cellAspectRatio", isShowDaysOtherMonth: ["isShowDaysOtherMonth", "isShowDaysOtherMonth", booleanAttribute], isResponsive: ["isResponsive", "isResponsive", booleanAttribute], isSelectable: ["isSelectable", "isSelectable", booleanAttribute], isSelectCurrentDay: ["isSelectCurrentDay", "isSelectCurrentDay", booleanAttribute] }, outputs: { dateSelect: "dateSelect", dateRangeSelect: "dateRangeSelect", dateMultipleSelect: "dateMultipleSelect" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"ui-calendar\">\n  <div class=\"ui-calendar-controls\">\n    <button aria-label=\"Preview Month\" (click)=\"onPrevMonth()\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.8326 4.18024C16.0558 4.42056 16.0558 4.8102 15.8326 5.05053L9.37955 12L15.8326 18.9495C16.0558 19.1898 16.0558 19.5794 15.8326 19.8198C15.6095 20.0601 15.2477 20.0601 15.0245 19.8198L8.16737 12.4351C7.94421 12.1948 7.94421 11.8052 8.16737 11.5649L15.0245 4.18024C15.2477 3.93992 15.6095 3.93992 15.8326 4.18024Z\" fill=\"black\"/>\n      </svg>\n    </button>\n    <div class=\"ui-calendar-controls-others\">\n      <button>{{ getCurrentMonth() }}</button>\n      <button>\n        {{ getCurrentYear() }}\n      </button>\n    </div>\n    <button aria-label=\"Next Month\" (click)=\"onNextMonth()\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.16737 4.18024C8.39052 3.93992 8.75233 3.93992 8.97549 4.18024L15.8326 11.5649C15.9398 11.6803 16 11.8368 16 12C16 12.1632 15.9398 12.3197 15.8326 12.4351L8.97549 19.8198C8.75233 20.0601 8.39052 20.0601 8.16737 19.8198C7.94421 19.5794 7.94421 19.1898 8.16737 18.9495L14.6204 12L8.16737 5.05053C7.94421 4.8102 7.94421 4.42056 8.16737 4.18024Z\" fill=\"black\"/>\n      </svg>\n    </button>\n  </div>\n  <table role=\"grid\" class=\"ui-calendar-table\">\n    <thead class=\"ui-calendar-table-head\">\n      @if (getTranslation('dayNamesShort')) {\n        <tr>\n          @for (name of getTranslation('dayNamesShort'); let idx = $index; track trackByIndexToDayNames;) {\n            <th scope=\"col\">\n              <span class=\"visually-hidden\"> {{ getDayName(idx) | titlecase }} </span>\n              <span aria-hidden=\"true\">{{ name | uppercase }}</span>\n            </th>\n          }\n        </tr>\n      }\n    </thead>\n    <tbody class=\"ui-calendar-table-body\">\n      @for (week of weeks | async; let idx = $index; track trackByIndex;) {\n      <tr role=\"row\">\n        @for (day of week; track day.ISO8601) {\n          <td\n            role=\"gridcell\"\n            [style.width]=\"_cellWidth\"\n            [style.paddingTop]=\"_cellPadding\"\n            [style.paddingBottom]=\"_cellPadding\"\n            >\n            <button\n              role=\"option\"\n              [class.readonly]=\"day.isAnotherMonth\"\n              [attr.disabled]=\"day.isAnotherMonth || null\"\n              [class.range]=\"day.isSelected && _endDate && type === 'range'\"\n              [class.end-date]=\"isEndDateRange(day.unix)\"\n              [attr.tabIndex]=\"day.isAnotherMonth ? -1 : 0\"\n              [attr.aria-current]=\"isSelectCurrentDay && type === 'single' ? (isCurrentDate(day.unix) ? 'date' : null) : null\"\n              [attr.aria-selected]=\"isDateSelected(day.unix)\"\n              [attr.data-date]=\"day.ISO8601 || null\"\n              (click)=\"onSelectedDate(day)\">\n              {{ day.day }}\n            </button>\n          </td>\n        }\n      </tr>\n      }\n    </tbody>\n  </table>\n</div>\n", styles: ["@import\"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\";:root{--font-family: \"Poppins\", sans-serif;--font-size: 16px;--line-height: 1.5;--corporate-purple: #9D3FE7;--corporate-gradient: 159.13deg, #9D3FE7 -24.13%, #602093 132.21%;--grayscale-black: #1A141F;--grayscale-white: #FFFFFF;--grayscale-hint-text: #4B3A5A;--grayscale-border: #ABA7AF;--grayscale-disabled: #D4D2D5;--grayscale-spacer: #D9D1E0;--grayscale-spacer-light: #E5E0EB;--grayscale-bg-light-grey: #F5F3F7;--informing-error: #D51A52;--informing-attention: #FF9500;--informing-approval: #00B998;--informing-link: #0F0BAB}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}main{height:max-content}body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);min-height:100vh;vertical-align:middle}a{text-decoration:none}ul{padding:0;list-style:none}input[type=\"*\"]{outline:none;border:none;font-family:inherit;font-size:inherit}img{display:inline-block;max-width:100%}button{border:none;outline:none;background-color:transparent}@keyframes collapseAnimation{0%{clip-path:polygon(0 0,100% 0,100% 100%,0% 100%)}99%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}to{clip-path:polygon(0 0,100% 0,100% 0,0 0)}}@keyframes expandAnimation{0%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}99%{clip-path:polygon(0 0,100% 0,100% 100%,0% 100%)}to{clip-path:none}}.visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;left:0}.ui-calendar{width:280px;border:1px solid #DEDEDE;padding:4px 0;border-radius:4px}.ui-calendar-controls{display:flex;align-items:center;justify-content:space-between;padding:.24rem .75rem}.ui-calendar-controls button{height:max-content;display:flex;align-items:center;justify-content:center}.ui-calendar-controls button:focus{border-radius:8px;outline-offset:2px;outline:1px solid red}.ui-calendar-controls-others{display:flex;gap:.25rem}.ui-calendar-controls-others button{font:inherit;font-size:14px;line-height:16px}.ui-calendar-table{width:100%;border-collapse:collapse;table-layout:fixed}.ui-calendar-table-head{margin-bottom:1rem;border-bottom:1px solid #DEDEDE}.ui-calendar-table-head th{-webkit-user-select:none;user-select:none}.ui-calendar-table-head th:hover{cursor:default}.ui-calendar-table-head th span{font-weight:500;font-size:12px;line-height:14px}.ui-calendar-table-body tr{margin:0;padding:0;height:0;position:relative;text-align:center}.ui-calendar-table-body tr td button{width:100%;height:auto;display:flex;align-items:center;justify-content:center;margin:0;padding:0;aspect-ratio:1;font-weight:500;font-size:14px;line-height:16px;margin:.15rem 0;color:var(--grayscale-black)}.ui-calendar-table-body tr td button:focus{border-radius:999px;outline:1px solid var(--corporate-purple)}.ui-calendar-table-body tr td button.range{background-color:var(--corporate-purple);color:var(--grayscale-white)}.ui-calendar-table-body tr td button.range:is([aria-selected=true]){border-radius:999px 0 0 999px}.ui-calendar-table-body tr td button.range:is(.ui-calendar-table-body tr td button.end-date){border-radius:0 999px 999px 0}.ui-calendar-table-body tr td button[aria-selected=true]:has(.ui-calendar-table-body tr td button.range){border-radius:999px 0 0 999px}.ui-calendar-table-body tr td button:not(.ui-calendar-table-body tr td button[disabled]):not(.ui-calendar-table-body tr td button[aria-current]):not(.ui-calendar-table-body tr td button.range):hover{border-radius:999px;border:1px solid var(--corporate-purple);background-color:#9e3fe731;cursor:pointer}.ui-calendar-table-body tr td button[aria-current]{background-color:var(--corporate-purple);color:var(--grayscale-white);border-radius:999px}.ui-calendar-table-body tr td button:not(.ui-calendar-table-body tr td button[disabled]):not(.ui-calendar-table-body tr td button.range):is(.ui-calendar-table-body tr td button[aria-selected=true]){border-radius:999px;border:1px solid var(--corporate-purple);background-color:#9e3fe731;cursor:pointer}.ui-calendar-table-body tr td button.readonly{font-weight:400;color:#707070;pointer-events:none}.ui-calendar-table-body tr td button.readonly:hover{cursor:default}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "pipe", type: i2.AsyncPipe, name: "async" }, { kind: "pipe", type: i2.UpperCasePipe, name: "uppercase" }, { kind: "pipe", type: i2.TitleCasePipe, name: "titlecase" }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.3.12", ngImport: i0, type: UICalendarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ui-calendar', standalone: true, imports: [
                        CommonModule,
                    ], changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, template: "<div class=\"ui-calendar\">\n  <div class=\"ui-calendar-controls\">\n    <button aria-label=\"Preview Month\" (click)=\"onPrevMonth()\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.8326 4.18024C16.0558 4.42056 16.0558 4.8102 15.8326 5.05053L9.37955 12L15.8326 18.9495C16.0558 19.1898 16.0558 19.5794 15.8326 19.8198C15.6095 20.0601 15.2477 20.0601 15.0245 19.8198L8.16737 12.4351C7.94421 12.1948 7.94421 11.8052 8.16737 11.5649L15.0245 4.18024C15.2477 3.93992 15.6095 3.93992 15.8326 4.18024Z\" fill=\"black\"/>\n      </svg>\n    </button>\n    <div class=\"ui-calendar-controls-others\">\n      <button>{{ getCurrentMonth() }}</button>\n      <button>\n        {{ getCurrentYear() }}\n      </button>\n    </div>\n    <button aria-label=\"Next Month\" (click)=\"onNextMonth()\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.16737 4.18024C8.39052 3.93992 8.75233 3.93992 8.97549 4.18024L15.8326 11.5649C15.9398 11.6803 16 11.8368 16 12C16 12.1632 15.9398 12.3197 15.8326 12.4351L8.97549 19.8198C8.75233 20.0601 8.39052 20.0601 8.16737 19.8198C7.94421 19.5794 7.94421 19.1898 8.16737 18.9495L14.6204 12L8.16737 5.05053C7.94421 4.8102 7.94421 4.42056 8.16737 4.18024Z\" fill=\"black\"/>\n      </svg>\n    </button>\n  </div>\n  <table role=\"grid\" class=\"ui-calendar-table\">\n    <thead class=\"ui-calendar-table-head\">\n      @if (getTranslation('dayNamesShort')) {\n        <tr>\n          @for (name of getTranslation('dayNamesShort'); let idx = $index; track trackByIndexToDayNames;) {\n            <th scope=\"col\">\n              <span class=\"visually-hidden\"> {{ getDayName(idx) | titlecase }} </span>\n              <span aria-hidden=\"true\">{{ name | uppercase }}</span>\n            </th>\n          }\n        </tr>\n      }\n    </thead>\n    <tbody class=\"ui-calendar-table-body\">\n      @for (week of weeks | async; let idx = $index; track trackByIndex;) {\n      <tr role=\"row\">\n        @for (day of week; track day.ISO8601) {\n          <td\n            role=\"gridcell\"\n            [style.width]=\"_cellWidth\"\n            [style.paddingTop]=\"_cellPadding\"\n            [style.paddingBottom]=\"_cellPadding\"\n            >\n            <button\n              role=\"option\"\n              [class.readonly]=\"day.isAnotherMonth\"\n              [attr.disabled]=\"day.isAnotherMonth || null\"\n              [class.range]=\"day.isSelected && _endDate && type === 'range'\"\n              [class.end-date]=\"isEndDateRange(day.unix)\"\n              [attr.tabIndex]=\"day.isAnotherMonth ? -1 : 0\"\n              [attr.aria-current]=\"isSelectCurrentDay && type === 'single' ? (isCurrentDate(day.unix) ? 'date' : null) : null\"\n              [attr.aria-selected]=\"isDateSelected(day.unix)\"\n              [attr.data-date]=\"day.ISO8601 || null\"\n              (click)=\"onSelectedDate(day)\">\n              {{ day.day }}\n            </button>\n          </td>\n        }\n      </tr>\n      }\n    </tbody>\n  </table>\n</div>\n", styles: ["@import\"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\";:root{--font-family: \"Poppins\", sans-serif;--font-size: 16px;--line-height: 1.5;--corporate-purple: #9D3FE7;--corporate-gradient: 159.13deg, #9D3FE7 -24.13%, #602093 132.21%;--grayscale-black: #1A141F;--grayscale-white: #FFFFFF;--grayscale-hint-text: #4B3A5A;--grayscale-border: #ABA7AF;--grayscale-disabled: #D4D2D5;--grayscale-spacer: #D9D1E0;--grayscale-spacer-light: #E5E0EB;--grayscale-bg-light-grey: #F5F3F7;--informing-error: #D51A52;--informing-attention: #FF9500;--informing-approval: #00B998;--informing-link: #0F0BAB}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}main{height:max-content}body{font-family:var(--font-family);font-size:var(--font-size);line-height:var(--line-height);min-height:100vh;vertical-align:middle}a{text-decoration:none}ul{padding:0;list-style:none}input[type=\"*\"]{outline:none;border:none;font-family:inherit;font-size:inherit}img{display:inline-block;max-width:100%}button{border:none;outline:none;background-color:transparent}@keyframes collapseAnimation{0%{clip-path:polygon(0 0,100% 0,100% 100%,0% 100%)}99%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}to{clip-path:polygon(0 0,100% 0,100% 0,0 0)}}@keyframes expandAnimation{0%{clip-path:polygon(0 0,100% 0,100% 0,0 0)}99%{clip-path:polygon(0 0,100% 0,100% 100%,0% 100%)}to{clip-path:none}}.visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;left:0}.ui-calendar{width:280px;border:1px solid #DEDEDE;padding:4px 0;border-radius:4px}.ui-calendar-controls{display:flex;align-items:center;justify-content:space-between;padding:.24rem .75rem}.ui-calendar-controls button{height:max-content;display:flex;align-items:center;justify-content:center}.ui-calendar-controls button:focus{border-radius:8px;outline-offset:2px;outline:1px solid red}.ui-calendar-controls-others{display:flex;gap:.25rem}.ui-calendar-controls-others button{font:inherit;font-size:14px;line-height:16px}.ui-calendar-table{width:100%;border-collapse:collapse;table-layout:fixed}.ui-calendar-table-head{margin-bottom:1rem;border-bottom:1px solid #DEDEDE}.ui-calendar-table-head th{-webkit-user-select:none;user-select:none}.ui-calendar-table-head th:hover{cursor:default}.ui-calendar-table-head th span{font-weight:500;font-size:12px;line-height:14px}.ui-calendar-table-body tr{margin:0;padding:0;height:0;position:relative;text-align:center}.ui-calendar-table-body tr td button{width:100%;height:auto;display:flex;align-items:center;justify-content:center;margin:0;padding:0;aspect-ratio:1;font-weight:500;font-size:14px;line-height:16px;margin:.15rem 0;color:var(--grayscale-black)}.ui-calendar-table-body tr td button:focus{border-radius:999px;outline:1px solid var(--corporate-purple)}.ui-calendar-table-body tr td button.range{background-color:var(--corporate-purple);color:var(--grayscale-white)}.ui-calendar-table-body tr td button.range:is([aria-selected=true]){border-radius:999px 0 0 999px}.ui-calendar-table-body tr td button.range:is(.ui-calendar-table-body tr td button.end-date){border-radius:0 999px 999px 0}.ui-calendar-table-body tr td button[aria-selected=true]:has(.ui-calendar-table-body tr td button.range){border-radius:999px 0 0 999px}.ui-calendar-table-body tr td button:not(.ui-calendar-table-body tr td button[disabled]):not(.ui-calendar-table-body tr td button[aria-current]):not(.ui-calendar-table-body tr td button.range):hover{border-radius:999px;border:1px solid var(--corporate-purple);background-color:#9e3fe731;cursor:pointer}.ui-calendar-table-body tr td button[aria-current]{background-color:var(--corporate-purple);color:var(--grayscale-white);border-radius:999px}.ui-calendar-table-body tr td button:not(.ui-calendar-table-body tr td button[disabled]):not(.ui-calendar-table-body tr td button.range):is(.ui-calendar-table-body tr td button[aria-selected=true]){border-radius:999px;border:1px solid var(--corporate-purple);background-color:#9e3fe731;cursor:pointer}.ui-calendar-table-body tr td button.readonly{font-weight:400;color:#707070;pointer-events:none}.ui-calendar-table-body tr td button.readonly:hover{cursor:default}\n"] }]
        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }, { type: i1.CalendarService }], propDecorators: { startDate: [{
                type: Input
            }], endDate: [{
                type: Input
            }], type: [{
                type: Input
            }], locale: [{
                type: Input
            }], limitYearsPreview: [{
                type: Input
            }], cellAspectRatio: [{
                type: Input
            }], isShowDaysOtherMonth: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], isResponsive: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], isSelectable: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], isSelectCurrentDay: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], dateSelect: [{
                type: Output
            }], dateRangeSelect: [{
                type: Output
            }], dateMultipleSelect: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbWFuam9uLXVpL3NyYy9saWIvY29tcG9uZW50cy9jYWxlbmRhci9jYWxlbmRhci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9tYW5qb24tdWkvc3JjL2xpYi9jb21wb25lbnRzL2NhbGVuZGFyL2NhbGVuZGFyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSx1QkFBdUIsRUFBcUIsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFnQyxNQUFNLEVBQWlCLGlCQUFpQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTdNLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUkvQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7Ozs7QUFhM0QsTUFBTSxPQUFPLG1CQUFtQjtJQUM5QixJQUNJLFNBQVMsQ0FBQyxLQUFXO1FBQ3ZCLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2xDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFFNUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBQUEsQ0FBQztJQUNGLElBQ0ksT0FBTyxDQUFDLEdBQVM7UUFDbkIsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDOUIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztR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Qix1S0MzQ3RDLHdxR0E4REEsd3pJRGxESSxZQUFZOzs0RkFPSCxtQkFBbUI7a0JBWC9CLFNBQVM7K0JBQ0UsYUFBYSxjQUNYLElBQUksV0FDUDt3QkFDUCxZQUFZO3FCQUNiLG1CQUdnQix1QkFBdUIsQ0FBQyxNQUFNLGlCQUNoQyxpQkFBaUIsQ0FBQyxJQUFJO29IQUlqQyxTQUFTO3NCQURaLEtBQUs7Z0JBU0YsT0FBTztzQkFEVixLQUFLO2dCQVFHLElBQUk7c0JBQVosS0FBSztnQkFDRyxNQUFNO3NCQUFkLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLGVBQWU7c0JBQXZCLEtBQUs7Z0JBQ2tDLG9CQUFvQjtzQkFBM0QsS0FBSzt1QkFBQyxFQUFFLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtnQkFDRSxZQUFZO3NCQUFuRCxLQUFLO3VCQUFDLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFO2dCQUNFLFlBQVk7c0JBQW5ELEtBQUs7dUJBQUMsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUU7Z0JBQ0Usa0JBQWtCO3NCQUF6RCxLQUFLO3VCQUFDLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFO2dCQUU1QixVQUFVO3NCQUFuQixNQUFNO2dCQUNHLGVBQWU7c0JBQXhCLE1BQU07Z0JBQ0csa0JBQWtCO3NCQUEzQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYm9vbGVhbkF0dHJpYnV0ZSwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgaW5qZWN0LCBJbnB1dCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0LCBTaW1wbGVDaGFuZ2VzLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSURhdGVzUmFuZ2UsIElXZWVrcywgVFR5cGVDYWxlbmRhciB9IGZyb20gJy4vY2FsZW5kYXIuaW50ZXJmYWNlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBDYWxlbmRhclNlcnZpY2UgfSBmcm9tICcuL2NhbGVuZGFyLnNlcnZpY2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBJVHJhbnNsYXRpb24sIFRQcmVmaXhMYW5ndWFnZSB9IGZyb20gJy4uLy4uLy4uL2FwaS90cmFuc2xhdGlvbic7XG5pbXBvcnQgeyBDb3JlTWFuam9uVUkgfSBmcm9tICcuLi8uLi8uLi9jb25maWcvY29yZS5jb25maWcnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd1aS1jYWxlbmRhcicsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gIF0sXG4gIHRlbXBsYXRlVXJsOiAnLi9jYWxlbmRhci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsOiAnLi9jYWxlbmRhci5jb21wb25lbnQuc2NzcycsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxufSlcbmV4cG9ydCBjbGFzcyBVSUNhbGVuZGFyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpXG4gIHNldCBzdGFydERhdGUoc3RhcnQ6IERhdGUpIHtcbiAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShzdGFydCk7XG4gICAgc3RhcnREYXRlLnNldEhvdXJzKDAsMCwwLDApO1xuXG4gICAgdGhpcy5fc3RhcnREYXRlID0gc3RhcnREYXRlO1xuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICB9O1xuICBASW5wdXQoKVxuICBzZXQgZW5kRGF0ZShlbmQ6IERhdGUpIHtcbiAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoZW5kKTtcbiAgICBlbmREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gICAgdGhpcy5fZW5kRGF0ZSA9IGVuZERhdGU7XG4gICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XG4gIH1cbiAgQElucHV0KCkgdHlwZTogVFR5cGVDYWxlbmRhciA9ICdzaW5nbGUnO1xuICBASW5wdXQoKSBsb2NhbGU6IFRQcmVmaXhMYW5ndWFnZSA9ICdlcy1FUyc7XG4gIEBJbnB1dCgpIGxpbWl0WWVhcnNQcmV2aWV3ITogbnVtYmVyO1xuICBASW5wdXQoKSBjZWxsQXNwZWN0UmF0aW86IG51bWJlciA9IDE7XG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSBpc1Nob3dEYXlzT3RoZXJNb250aDogYm9vbGVhbiA9IHRydWU7XG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSBpc1Jlc3BvbnNpdmUhOiBib29sZWFuO1xuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSkgaXNTZWxlY3RhYmxlITogYm9vbGVhbjtcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIGlzU2VsZWN0Q3VycmVudERheSE6IGJvb2xlYW47XG5cbiAgQE91dHB1dCgpIGRhdGVTZWxlY3Q6IEV2ZW50RW1pdHRlcjxEYXRlPiA9IG5ldyBFdmVudEVtaXR0ZXI8RGF0ZT4oKTtcbiAgQE91dHB1dCgpIGRhdGVSYW5nZVNlbGVjdDogRXZlbnRFbWl0dGVyPElEYXRlc1JhbmdlPiA9IG5ldyBFdmVudEVtaXR0ZXI8SURhdGVzUmFuZ2U+KCk7XG4gIEBPdXRwdXQoKSBkYXRlTXVsdGlwbGVTZWxlY3Q6IEV2ZW50RW1pdHRlcjxBcnJheTxEYXRlPj4gPSBuZXcgRXZlbnRFbWl0dGVyPEFycmF5PERhdGU+PigpO1xuXG4gIHB1YmxpYyBjb25maWcgPSBpbmplY3QoQ29yZU1hbmpvblVJKTtcbiAgcHVibGljIF9zdGFydERhdGUhOiBEYXRlO1xuICBwdWJsaWMgX2VuZERhdGUhOiBEYXRlIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgZGF5TmFtZXMhOiBzdHJpbmdbXTtcbiAgcHVibGljIGN1cnJlbnREYXRlOiBEYXRlID0gbmV3IERhdGUoKTtcbiAgcHVibGljIGN1cnJlbnRZZWFyITogbnVtYmVyO1xuICBwdWJsaWMgY3VycmVudE1vbnRoITogbnVtYmVyO1xuICBwdWJsaWMgd2Vla3MhOiBPYnNlcnZhYmxlPElXZWVrc1tdW10+O1xuICBwdWJsaWMgX2NlbGxQYWRkaW5nITogc3RyaW5nO1xuICBwdWJsaWMgX2NlbGxXaWR0aCE6IHN0cmluZztcbiAgcHJpdmF0ZSBfY3VycmVudE9wdGlvbkRhdGU6ICdzdGFydCcgfCAnZW5kJyA9ICdzdGFydCc7XG4gIHByaXZhdGUgX3N1YnNjcmlwdGlvbldlZWtzITogU3Vic2NyaXB0aW9uO1xuICBwcml2YXRlIGFsbG1vbnRoID0gdGhpcy5jb25maWcuZ2V0VHJhbnNsYXRpb24odGhpcy5sb2NhbGUsICdtb250aE5hbWVzJyk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBjZHI6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIHByaXZhdGUgY2FsZW5kYXJTZXJ2aWNlOiBDYWxlbmRhclNlcnZpY2VcbiAgKSB7IH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICBjb25zdCBkYXRlID0gdGhpcy5fc3RhcnREYXRlIHx8IG5ldyBEYXRlKClcbiAgICB0aGlzLnNldFllYXJNb250aChkYXRlKTtcbiAgICB0aGlzLmluaXRXZWVrcygpO1xuICAgIHRoaXMud2Vla3MgPSB0aGlzLmNhbGVuZGFyU2VydmljZS5pbml0V2Vla3MkO1xuICAgIHRoaXMuZ2V0RGF5TmFtZXMoKTtcbiAgfVxuXG4gIGdldERheU5hbWVzKCk6IHZvaWQge1xuICAgIGNvbnN0IGRheU5hbWVzID0gdGhpcy5jb25maWdcbiAgICAgIC5nZXRUcmFuc2xhdGlvbih0aGlzLmxvY2FsZSwgJ2RheU5hbWVzJyk7XG4gICAgaWYoQXJyYXkuaXNBcnJheShkYXlOYW1lcykpIHtcbiAgICAgIHRoaXMuZGF5TmFtZXMgPSBkYXlOYW1lcztcbiAgICB9XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgaWYgKGNoYW5nZXNbJ3R5cGUnXSAmJiAoY2hhbmdlc1sndHlwZSddLnByZXZpb3VzVmFsdWUgIT09IGNoYW5nZXNbJ3R5cGUnXS5jdXJyZW50VmFsdWUpKSB7XG4gICAgICB0aGlzLmluaXRXZWVrcygpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snZW5kRGF0ZSddICYmIChjaGFuZ2VzWydlbmREYXRlJ10ucHJldmlvdXNWYWx1ZSAhPT0gY2hhbmdlc1snZW5kRGF0ZSddLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShjaGFuZ2VzWydlbmREYXRlJ10uY3VycmVudFZhbHVlKTtcbiAgICAgIGVuZERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgIHRoaXMuX2VuZERhdGUgPSBlbmREYXRlO1xuICAgICAgdGhpcy5zZXRZZWFyTW9udGgoZW5kRGF0ZSk7XG4gICAgICB0aGlzLmluaXRXZWVrcygpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snc3RhcnREYXRlJ10gJiYgKGNoYW5nZXNbJ3N0YXJ0RGF0ZSddLnByZXZpb3VzVmFsdWUgIT09IGNoYW5nZXNbJ3N0YXJ0RGF0ZSddLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKGNoYW5nZXNbJ3N0YXJ0RGF0ZSddLmN1cnJlbnRWYWx1ZSk7XG4gICAgICBzdGFydERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgIHRoaXMuX3N0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZTtcbiAgICAgIHRoaXMuc2V0WWVhck1vbnRoKHN0YXJ0RGF0ZSk7XG4gICAgICB0aGlzLmluaXRXZWVrcygpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snbG9jYWxlJ10gJiYgKGNoYW5nZXNbJ2xvY2FsZSddLnByZXZpb3VzVmFsdWUgIT09IGNoYW5nZXNbJ2xvY2FsZSddLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgIHRoaXMuZ2V0RGF5TmFtZXMoKTtcbiAgICAgICAgdGhpcy5hbGxtb250aCA9IHRoaXMuY29uZmlnLmdldFRyYW5zbGF0aW9uKHRoaXMubG9jYWxlLCAnbW9udGhOYW1lcycpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIGlmKHRoaXMuX3N1YnNjcmlwdGlvbldlZWtzKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25XZWVrcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXREYXlOYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmRheU5hbWVzW2luZGV4XTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUcmFuc2xhdGlvbihrZXk6IGtleW9mIElUcmFuc2xhdGlvbik6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZ2V0VHJhbnNsYXRpb24odGhpcy5sb2NhbGUsIGtleSk7XG4gIH1cblxuICBwdWJsaWMgaW5pdFdlZWtzKCk6IHZvaWQge1xuICAgIHRoaXMuY2FsZW5kYXJTZXJ2aWNlXG4gICAgICAuZGVjb21wb3NlTW9udGhJbnRvV2Vla3MoXG4gICAgICAgIHRoaXMuY3VycmVudFllYXIsXG4gICAgICAgIHRoaXMuY3VycmVudE1vbnRoLFxuICAgICAgICB0aGlzLnR5cGUsXG4gICAgICAgIHRoaXMuaXNTaG93RGF5c090aGVyTW9udGgsXG4gICAgICAgIHRoaXMuX3N0YXJ0RGF0ZSxcbiAgICAgICAgdGhpcy5fZW5kRGF0ZVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyB0cmFja0J5SW5kZXgoaW5kZXg6IG51bWJlciwgaXRlbTogYW55KTogbnVtYmVyIHtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbiAgcHVibGljIHRyYWNrQnlJbmRleFRvRGF5TmFtZXMoaW5kZXg6IG51bWJlciwgaXRlbTogYW55KTogbnVtYmVyIHtcbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBwdWJsaWMgc2V0Q2VsbEFzcGVjdFJhdGlvKG51bUNvbHM6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBhZGRpbmcgPSAoMTAwICogdGhpcy5jZWxsQXNwZWN0UmF0aW8pIC8gbnVtQ29scyAvIDI7XG4gICAgdGhpcy5fY2VsbFBhZGRpbmcgPSBgJHtwYWRkaW5nLnRvRml4ZWQoMil9JWA7XG4gICAgdGhpcy5fY2VsbFdpZHRoID0gYCR7MTAwIC8gbnVtQ29sc30lYDtcblxuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcHVibGljIG9uUHJldk1vbnRoKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmN1cnJlbnRNb250aCA9PT0gMSkge1xuICAgICAgdGhpcy5jdXJyZW50TW9udGggPSAxMjtcbiAgICAgIHRoaXMuY3VycmVudFllYXItLTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50TW9udGgtLTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRXZWVrcygpO1xuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcHVibGljIG9uTmV4dE1vbnRoKCk6IHZvaWQge1xuICAgIGlmICgodGhpcy5jdXJyZW50TW9udGggKyAxKSA9PT0gMTIpIHtcbiAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gMTtcbiAgICAgIHRoaXMuY3VycmVudFllYXIrKztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50TW9udGgrKztcbiAgICB9XG5cbiAgICB0aGlzLmluaXRXZWVrcygpO1xuICAgIHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcHVibGljIGlzRGF0ZVNlbGVjdGVkKGRhdGVVbml4OiBudW1iZXIgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICBjb25zdCBpbml0aWFsRGF0ZSA9IHRoaXMuY2FsZW5kYXJTZXJ2aWNlLmZvcm1hdFRvVW5peCh0aGlzLl9zdGFydERhdGUpO1xuXG4gICAgcmV0dXJuIGRhdGVVbml4ID09PSBpbml0aWFsRGF0ZTtcbiAgfVxuXG4gIHB1YmxpYyBpc0N1cnJlbnREYXRlKGRhdGVVbml4OiBudW1iZXIgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgICBjb25zdCBjdXJyZW50RGF0ZVRvVW5peCA9IHRoaXMuY2FsZW5kYXJTZXJ2aWNlLmZvcm1hdFRvVW5peChuZXcgRGF0ZSgpKTtcblxuICAgIHJldHVybiAoZGF0ZVVuaXggPyBkYXRlVW5peCA9PT0gY3VycmVudERhdGVUb1VuaXggOiBmYWxzZSk7XG4gIH1cblxuICBwdWJsaWMgb25TZWxlY3RlZERhdGUob3B0aW9uOiBJV2Vla3MpOiB2b2lkIHtcblxuICAgIHN3aXRjaCh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3NpbmdsZSc6XG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHRoaXMuY2FsZW5kYXJTZXJ2aWNlLm9uU2VsZWN0ZWREYXRlU2luZ2xlKG9wdGlvbj8uSVNPODYwMSk7XG4gICAgICAgIHRoaXMuX3N0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZTtcbiAgICAgICAgdGhpcy5kYXRlU2VsZWN0LmVtaXQoc3RhcnREYXRlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyYW5nZSc6XG4gICAgICAgIHRoaXMub25TZWxlY3RlZERhdGVSYW5nZShvcHRpb24/LklTTzg2MDEpO1xuICAgICAgICB0aGlzLnRvZ2dsZU9wdGlvbkRhdGUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5jZHIubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBwdWJsaWMgb25TZWxlY3RlZERhdGVSYW5nZShJU084NjAxOiBzdHJpbmcgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBzd2l0Y2godGhpcy5fY3VycmVudE9wdGlvbkRhdGUpIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gdGhpcy5jYWxlbmRhclNlcnZpY2Uub25TZWxlY3RlZERhdGVTaW5nbGUoSVNPODYwMSk7XG4gICAgICAgIHRoaXMuX3N0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZTtcbiAgICAgICAgdGhpcy5pbml0V2Vla3MoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlbmQnOlxuICAgICAgICBjb25zdCBlbmREYXRlID0gdGhpcy5jYWxlbmRhclNlcnZpY2Uub25TZWxlY3RlZERhdGVTaW5nbGUoSVNPODYwMSk7XG4gICAgICAgIHRoaXMuX2VuZERhdGUgPSBlbmREYXRlO1xuICAgICAgICB0aGlzLmluaXRXZWVrcygpO1xuXG4gICAgICAgIGlmKHRoaXMudmVyaWZ5RGF0ZVJhbmdlKCkpIHtcbiAgICAgICAgICB0aGlzLmRhdGVSYW5nZVNlbGVjdC5lbWl0KHtzdGFydDogdGhpcy5fc3RhcnREYXRlLCBlbmQ6IHRoaXMuX2VuZERhdGV9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBpc0VuZERhdGVSYW5nZShkYXRlVW5peDogbnVtYmVyIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2VuZERhdGUgP1xuICAgICAgICBkYXRlVW5peCA9PT0gdGhpcy5jYWxlbmRhclNlcnZpY2UuZm9ybWF0VG9Vbml4KHRoaXMuX2VuZERhdGUpIDpcbiAgICAgICAgZmFsc2VcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdldEN1cnJlbnRNb250aCgpOiBzdHJpbmcgIHtcbiAgICByZXR1cm4gdGhpcy5hbGxtb250aCFbbmV3IERhdGUodGhpcy5fc3RhcnREYXRlIHx8IG5ldyBEYXRlKCkpLmdldE1vbnRoKCldID8/ICcwJztcbiAgfVxuXG4gIHB1YmxpYyBnZXRDdXJyZW50WWVhcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9zdGFydERhdGUuZ2V0RnVsbFllYXIoKSA/PyAgbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRZZWFyTW9udGgoZGF0ZTogRGF0ZSk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoZGF0ZSk7XG5cbiAgICB0aGlzLmN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICB0aGlzLmN1cnJlbnRNb250aCA9IChjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSk7XG4gIH1cblxuICBwcml2YXRlIHRvZ2dsZU9wdGlvbkRhdGUoKTogdm9pZCB7XG4gICAgaWYodGhpcy5fY3VycmVudE9wdGlvbkRhdGUgPT09ICdzdGFydCcpIHtcbiAgICAgIGlmKHRoaXMuX2VuZERhdGUpIHtcbiAgICAgICAgdGhpcy5fZW5kRGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2N1cnJlbnRPcHRpb25EYXRlID0gJ2VuZCc7XG4gICAgfWVsc2Uge1xuICAgICAgdGhpcy5pbml0V2Vla3MoKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRPcHRpb25EYXRlID0gJ3N0YXJ0JztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHZlcmlmeURhdGVSYW5nZSgpOiBib29sZWFuIHtcbiAgICBpZighdGhpcy5fZW5kRGF0ZSkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IHN0YXJ0RGF0ZVRvVW5peCA9IHRoaXMuY2FsZW5kYXJTZXJ2aWNlXG4gICAgICAuZm9ybWF0VG9Vbml4KHRoaXMuX3N0YXJ0RGF0ZSk7XG4gICAgY29uc3QgZW5kRGF0ZVRvVW5peCA9IHRoaXMuY2FsZW5kYXJTZXJ2aWNlXG4gICAgICAuZm9ybWF0VG9Vbml4KHRoaXMuX2VuZERhdGUpO1xuXG4gICAgcmV0dXJuICEhKGVuZERhdGVUb1VuaXggPj0gc3RhcnREYXRlVG9Vbml4KTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cInVpLWNhbGVuZGFyXCI+XG4gIDxkaXYgY2xhc3M9XCJ1aS1jYWxlbmRhci1jb250cm9sc1wiPlxuICAgIDxidXR0b24gYXJpYS1sYWJlbD1cIlByZXZpZXcgTW9udGhcIiAoY2xpY2spPVwib25QcmV2TW9udGgoKVwiPlxuICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xNS44MzI2IDQuMTgwMjRDMTYuMDU1OCA0LjQyMDU2IDE2LjA1NTggNC44MTAyIDE1LjgzMjYgNS4wNTA1M0w5LjM3OTU1IDEyTDE1LjgzMjYgMTguOTQ5NUMxNi4wNTU4IDE5LjE4OTggMTYuMDU1OCAxOS41Nzk0IDE1LjgzMjYgMTkuODE5OEMxNS42MDk1IDIwLjA2MDEgMTUuMjQ3NyAyMC4wNjAxIDE1LjAyNDUgMTkuODE5OEw4LjE2NzM3IDEyLjQzNTFDNy45NDQyMSAxMi4xOTQ4IDcuOTQ0MjEgMTEuODA1MiA4LjE2NzM3IDExLjU2NDlMMTUuMDI0NSA0LjE4MDI0QzE1LjI0NzcgMy45Mzk5MiAxNS42MDk1IDMuOTM5OTIgMTUuODMyNiA0LjE4MDI0WlwiIGZpbGw9XCJibGFja1wiLz5cbiAgICAgIDwvc3ZnPlxuICAgIDwvYnV0dG9uPlxuICAgIDxkaXYgY2xhc3M9XCJ1aS1jYWxlbmRhci1jb250cm9scy1vdGhlcnNcIj5cbiAgICAgIDxidXR0b24+e3sgZ2V0Q3VycmVudE1vbnRoKCkgfX08L2J1dHRvbj5cbiAgICAgIDxidXR0b24+XG4gICAgICAgIHt7IGdldEN1cnJlbnRZZWFyKCkgfX1cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxidXR0b24gYXJpYS1sYWJlbD1cIk5leHQgTW9udGhcIiAoY2xpY2spPVwib25OZXh0TW9udGgoKVwiPlxuICAgICAgPHN2ZyB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk04LjE2NzM3IDQuMTgwMjRDOC4zOTA1MiAzLjkzOTkyIDguNzUyMzMgMy45Mzk5MiA4Ljk3NTQ5IDQuMTgwMjRMMTUuODMyNiAxMS41NjQ5QzE1LjkzOTggMTEuNjgwMyAxNiAxMS44MzY4IDE2IDEyQzE2IDEyLjE2MzIgMTUuOTM5OCAxMi4zMTk3IDE1LjgzMjYgMTIuNDM1MUw4Ljk3NTQ5IDE5LjgxOThDOC43NTIzMyAyMC4wNjAxIDguMzkwNTIgMjAuMDYwMSA4LjE2NzM3IDE5LjgxOThDNy45NDQyMSAxOS41Nzk0IDcuOTQ0MjEgMTkuMTg5OCA4LjE2NzM3IDE4Ljk0OTVMMTQuNjIwNCAxMkw4LjE2NzM3IDUuMDUwNTNDNy45NDQyMSA0LjgxMDIgNy45NDQyMSA0LjQyMDU2IDguMTY3MzcgNC4xODAyNFpcIiBmaWxsPVwiYmxhY2tcIi8+XG4gICAgICA8L3N2Zz5cbiAgICA8L2J1dHRvbj5cbiAgPC9kaXY+XG4gIDx0YWJsZSByb2xlPVwiZ3JpZFwiIGNsYXNzPVwidWktY2FsZW5kYXItdGFibGVcIj5cbiAgICA8dGhlYWQgY2xhc3M9XCJ1aS1jYWxlbmRhci10YWJsZS1oZWFkXCI+XG4gICAgICBAaWYgKGdldFRyYW5zbGF0aW9uKCdkYXlOYW1lc1Nob3J0JykpIHtcbiAgICAgICAgPHRyPlxuICAgICAgICAgIEBmb3IgKG5hbWUgb2YgZ2V0VHJhbnNsYXRpb24oJ2RheU5hbWVzU2hvcnQnKTsgbGV0IGlkeCA9ICRpbmRleDsgdHJhY2sgdHJhY2tCeUluZGV4VG9EYXlOYW1lczspIHtcbiAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInZpc3VhbGx5LWhpZGRlblwiPiB7eyBnZXREYXlOYW1lKGlkeCkgfCB0aXRsZWNhc2UgfX0gPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj57eyBuYW1lIHwgdXBwZXJjYXNlIH19PC9zcGFuPlxuICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICB9XG4gICAgICAgIDwvdHI+XG4gICAgICB9XG4gICAgPC90aGVhZD5cbiAgICA8dGJvZHkgY2xhc3M9XCJ1aS1jYWxlbmRhci10YWJsZS1ib2R5XCI+XG4gICAgICBAZm9yICh3ZWVrIG9mIHdlZWtzIHwgYXN5bmM7IGxldCBpZHggPSAkaW5kZXg7IHRyYWNrIHRyYWNrQnlJbmRleDspIHtcbiAgICAgIDx0ciByb2xlPVwicm93XCI+XG4gICAgICAgIEBmb3IgKGRheSBvZiB3ZWVrOyB0cmFjayBkYXkuSVNPODYwMSkge1xuICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgcm9sZT1cImdyaWRjZWxsXCJcbiAgICAgICAgICAgIFtzdHlsZS53aWR0aF09XCJfY2VsbFdpZHRoXCJcbiAgICAgICAgICAgIFtzdHlsZS5wYWRkaW5nVG9wXT1cIl9jZWxsUGFkZGluZ1wiXG4gICAgICAgICAgICBbc3R5bGUucGFkZGluZ0JvdHRvbV09XCJfY2VsbFBhZGRpbmdcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICByb2xlPVwib3B0aW9uXCJcbiAgICAgICAgICAgICAgW2NsYXNzLnJlYWRvbmx5XT1cImRheS5pc0Fub3RoZXJNb250aFwiXG4gICAgICAgICAgICAgIFthdHRyLmRpc2FibGVkXT1cImRheS5pc0Fub3RoZXJNb250aCB8fCBudWxsXCJcbiAgICAgICAgICAgICAgW2NsYXNzLnJhbmdlXT1cImRheS5pc1NlbGVjdGVkICYmIF9lbmREYXRlICYmIHR5cGUgPT09ICdyYW5nZSdcIlxuICAgICAgICAgICAgICBbY2xhc3MuZW5kLWRhdGVdPVwiaXNFbmREYXRlUmFuZ2UoZGF5LnVuaXgpXCJcbiAgICAgICAgICAgICAgW2F0dHIudGFiSW5kZXhdPVwiZGF5LmlzQW5vdGhlck1vbnRoID8gLTEgOiAwXCJcbiAgICAgICAgICAgICAgW2F0dHIuYXJpYS1jdXJyZW50XT1cImlzU2VsZWN0Q3VycmVudERheSAmJiB0eXBlID09PSAnc2luZ2xlJyA/IChpc0N1cnJlbnREYXRlKGRheS51bml4KSA/ICdkYXRlJyA6IG51bGwpIDogbnVsbFwiXG4gICAgICAgICAgICAgIFthdHRyLmFyaWEtc2VsZWN0ZWRdPVwiaXNEYXRlU2VsZWN0ZWQoZGF5LnVuaXgpXCJcbiAgICAgICAgICAgICAgW2F0dHIuZGF0YS1kYXRlXT1cImRheS5JU084NjAxIHx8IG51bGxcIlxuICAgICAgICAgICAgICAoY2xpY2spPVwib25TZWxlY3RlZERhdGUoZGF5KVwiPlxuICAgICAgICAgICAgICB7eyBkYXkuZGF5IH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICB9XG4gICAgICA8L3RyPlxuICAgICAgfVxuICAgIDwvdGJvZHk+XG4gIDwvdGFibGU+XG48L2Rpdj5cbiJdfQ==