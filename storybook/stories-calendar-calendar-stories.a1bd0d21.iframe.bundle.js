(self.webpackChunkmanjon_ui=self.webpackChunkmanjon_ui||[]).push([[984],{"./projects/manjon-ui/src/lib/components/calendar/calendar.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap);"]),___CSS_LOADER_EXPORT___.push([module.id,':root {\n  --font-family: "Poppins", sans-serif;\n  --font-size: 16px;\n  --line-height: 1.5;\n  --corporate-purple: #9D3FE7;\n  --corporate-gradient: 159.13deg, #9D3FE7 -24.13%, #602093 132.21%;\n  --grayscale-black: #1A141F;\n  --grayscale-white: #FFFFFF;\n  --grayscale-hint-text: #4B3A5A;\n  --grayscale-border: #ABA7AF;\n  --grayscale-disabled: #D4D2D5;\n  --grayscale-spacer: #D9D1E0;\n  --grayscale-spacer-light: #E5E0EB;\n  --grayscale-bg-light-grey: #F5F3F7;\n  --informing-error: #D51A52;\n  --informing-attention: #FF9500;\n  --informing-approval: #00B998;\n  --informing-link: #0F0BAB;\n}\n\n*,\n*::before,\n*::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  scroll-behavior: smooth;\n}\n\nmain {\n  height: max-content;\n}\n\nbody {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: var(--line-height);\n  min-height: 100vh;\n  vertical-align: middle;\n}\n\na {\n  text-decoration: none;\n}\n\nul {\n  padding: 0;\n  list-style: none;\n}\n\ninput[type="*"] {\n  outline: none;\n  border: none;\n  font-family: inherit;\n  font-size: inherit;\n}\n\nimg {\n  display: inline-block;\n  max-width: 100%;\n}\n\nbutton {\n  border: none;\n  outline: none;\n  background-color: transparent;\n}\n\n@keyframes collapseAnimation {\n  0% {\n    clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);\n  }\n  99% {\n    clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);\n  }\n  100% {\n    clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);\n  }\n}\n@keyframes expandAnimation {\n  0% {\n    clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);\n  }\n  99% {\n    clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);\n  }\n  100% {\n    clip-path: none;\n  }\n}\n.visually-hidden {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n  white-space: nowrap;\n  outline: 0;\n  left: 0;\n}\n\n.ui-calendar {\n  width: 280px;\n  border: 1px solid #DEDEDE;\n  padding: 4px 0 4px 0;\n  border-radius: 4px;\n}\n.ui-calendar-controls {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.24rem 0.75rem;\n}\n.ui-calendar-controls button {\n  height: max-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.ui-calendar-controls button:focus {\n  border-radius: 8px;\n  outline-offset: 2px;\n  outline: 1px solid red;\n}\n.ui-calendar-controls-others {\n  display: flex;\n  gap: 0.25rem;\n}\n.ui-calendar-controls-others button {\n  font: inherit;\n  font-size: 14px;\n  line-height: 16px;\n}\n.ui-calendar-table {\n  width: 100%;\n  border-collapse: collapse;\n  table-layout: fixed;\n}\n.ui-calendar-table-head {\n  margin-bottom: 1rem;\n  border-bottom: 1px solid #DEDEDE;\n}\n.ui-calendar-table-head th {\n  -webkit-user-select: none;\n          user-select: none;\n}\n.ui-calendar-table-head th:hover {\n  cursor: default;\n}\n.ui-calendar-table-head th span {\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 14px;\n}\n.ui-calendar-table-body tr {\n  margin: 0;\n  padding: 0;\n  height: 0;\n  position: relative;\n  text-align: center;\n}\n.ui-calendar-table-body tr td button {\n  width: 100%;\n  height: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  padding: 0;\n  aspect-ratio: 1;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 16px;\n  margin: 0.15rem 0;\n  color: var(--grayscale-black);\n}\n.ui-calendar-table-body tr td button:focus {\n  border-radius: 999px;\n  outline: 1px solid var(--corporate-purple);\n}\n.ui-calendar-table-body tr td button.range {\n  background-color: var(--corporate-purple);\n  color: var(--grayscale-white);\n}\n.ui-calendar-table-body tr td button.range:is([aria-selected=true]) {\n  border-top-left-radius: 999px;\n  border-bottom-left-radius: 999px;\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n}\n.ui-calendar-table-body tr td button.range:is(.ui-calendar-table-body tr td button.end-date) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 999px;\n  border-top-right-radius: 999px;\n}\n.ui-calendar-table-body tr td button[aria-selected=true]:has(.ui-calendar-table-body tr td button.range) {\n  border-top-left-radius: 999px;\n  border-bottom-left-radius: 999px;\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n}\n.ui-calendar-table-body tr td button:not(.ui-calendar-table-body tr td button[disabled]):not(.ui-calendar-table-body tr td button[aria-current]):not(.ui-calendar-table-body tr td button.range):hover {\n  border-radius: 999px;\n  border: 1px solid var(--corporate-purple);\n  background-color: rgba(158, 63, 231, 0.1921568627);\n  cursor: pointer;\n}\n.ui-calendar-table-body tr td button[aria-current] {\n  background-color: var(--corporate-purple);\n  color: var(--grayscale-white);\n  border-radius: 999px;\n}\n.ui-calendar-table-body tr td button:not(.ui-calendar-table-body tr td button[disabled]):not(.ui-calendar-table-body tr td button.range):is(.ui-calendar-table-body tr td button[aria-selected=true]) {\n  border-radius: 999px;\n  border: 1px solid var(--corporate-purple);\n  background-color: rgba(158, 63, 231, 0.1921568627);\n  cursor: pointer;\n}\n.ui-calendar-table-body tr td button.readonly {\n  font-weight: 400;\n  color: #707070;\n  pointer-events: none;\n}\n.ui-calendar-table-body tr td button.readonly:hover {\n  cursor: default;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/@angular-devkit/build-angular/node_modules/css-loader/dist/runtime/noSourceMaps.js":module=>{"use strict";module.exports=function(i){return i[1]}},"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{XI:()=>action});var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),v4=__webpack_require__("./node_modules/@storybook/addon-actions/node_modules/uuid/dist/esm-browser/v4.js"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}},"./node_modules/@storybook/angular/dist/client/argsToTemplate.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsToTemplate=void 0;const ComputesTemplateFromComponent_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/ComputesTemplateFromComponent.js");exports.argsToTemplate=function argsToTemplate(args,options={}){const includeSet=options.include?new Set(options.include):null,excludeSet=options.exclude?new Set(options.exclude):null;return Object.entries(args).filter((([key])=>void 0!==args[key])).filter((([key])=>includeSet?includeSet.has(key):!excludeSet||!excludeSet.has(key))).map((([key,value])=>"function"==typeof value?`(${key})="${(0,ComputesTemplateFromComponent_1.formatPropInTemplate)(key)}($event)"`:`[${key}]="${(0,ComputesTemplateFromComponent_1.formatPropInTemplate)(key)}"`)).join(" ")}},"./node_modules/@storybook/angular/dist/client/decorators.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.componentWrapperDecorator=exports.applicationConfig=exports.moduleMetadata=void 0;const ComputesTemplateFromComponent_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/ComputesTemplateFromComponent.js"),NgComponentAnalyzer_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/angular-beta/utils/NgComponentAnalyzer.js");exports.moduleMetadata=metadata=>storyFn=>{const story=storyFn(),storyMetadata=story.moduleMetadata||{};return metadata=metadata||{},{...story,moduleMetadata:{declarations:[...metadata.declarations||[],...storyMetadata.declarations||[]],entryComponents:[...metadata.entryComponents||[],...storyMetadata.entryComponents||[]],imports:[...metadata.imports||[],...storyMetadata.imports||[]],schemas:[...metadata.schemas||[],...storyMetadata.schemas||[]],providers:[...metadata.providers||[],...storyMetadata.providers||[]]}}},exports.applicationConfig=function applicationConfig(config){return storyFn=>{const story=storyFn(),storyConfig=story.applicationConfig;return{...story,applicationConfig:storyConfig||config?{...config,...storyConfig,providers:[...config?.providers||[],...storyConfig?.providers||[]]}:void 0}}};exports.componentWrapperDecorator=(element,props)=>(storyFn,storyContext)=>{const story=storyFn(),currentProps="function"==typeof props?props(storyContext):props,template=(0,NgComponentAnalyzer_1.isComponent)(element)?(0,ComputesTemplateFromComponent_1.computesTemplateFromComponent)(element,currentProps??{},story.template):element(story.template);return{...story,template,...currentProps||story.props?{props:{...currentProps,...story.props}}:{}}}},"./node_modules/@storybook/angular/dist/client/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.argsToTemplate=exports.applicationConfig=exports.componentWrapperDecorator=exports.moduleMetadata=void 0,__webpack_require__("./node_modules/@storybook/angular/dist/client/globals.js"),__exportStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/public-types.js"),exports),__exportStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/portable-stories.js"),exports);var decorators_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/decorators.js");Object.defineProperty(exports,"moduleMetadata",{enumerable:!0,get:function(){return decorators_1.moduleMetadata}}),Object.defineProperty(exports,"componentWrapperDecorator",{enumerable:!0,get:function(){return decorators_1.componentWrapperDecorator}}),Object.defineProperty(exports,"applicationConfig",{enumerable:!0,get:function(){return decorators_1.applicationConfig}});var argsToTemplate_1=__webpack_require__("./node_modules/@storybook/angular/dist/client/argsToTemplate.js");Object.defineProperty(exports,"argsToTemplate",{enumerable:!0,get:function(){return argsToTemplate_1.argsToTemplate}})},"./node_modules/@storybook/angular/dist/client/portable-stories.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.setProjectAnnotations=void 0;const preview_api_1=__webpack_require__("storybook/internal/preview-api"),INTERNAL_DEFAULT_PROJECT_ANNOTATIONS=__importStar(__webpack_require__("./node_modules/@storybook/angular/dist/client/render.js"));exports.setProjectAnnotations=function setProjectAnnotations(projectAnnotations){return(0,preview_api_1.setDefaultProjectAnnotations)(INTERNAL_DEFAULT_PROJECT_ANNOTATIONS),(0,preview_api_1.setProjectAnnotations)(projectAnnotations)}},"./node_modules/@storybook/angular/dist/client/public-types.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/@storybook/angular/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var _client_index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/client/index.js");__webpack_require__.o(_client_index__WEBPACK_IMPORTED_MODULE_0__,"moduleMetadata")&&__webpack_require__.d(__webpack_exports__,{moduleMetadata:function(){return _client_index__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata}})},"./src/stories/calendar/calendar.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>calendar_stories});var dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var calendar_componentngResource=__webpack_require__("./projects/manjon-ui/src/lib/components/calendar/calendar.component.scss?ngResource"),calendar_componentngResource_default=__webpack_require__.n(calendar_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js");let CalendarService=class CalendarService{constructor(){this._initWeeks=new BehaviorSubject.t([]),this.initWeeks$=this._initWeeks.asObservable()}decomposeMonthIntoWeeks(year,month,type,isShowDaysOtherMonth,startDate,endDate){const getTotalDaysInMonth=(year,month)=>[31,this.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month-1],diffDaysOfFirstWeek=this.getDiffDaysOfWeek(year,month),totalDaysInMonth=getTotalDaysInMonth(year,month),weeks=[];let currentWeek=[];if(isShowDaysOtherMonth){const prevMonth=month-1<1?12:month-1,prevYear=month-1<1?year-1:year,totalDaysInPrevMonth=getTotalDaysInMonth(prevYear,prevMonth);for(let i=diffDaysOfFirstWeek;i>0;i--){const prevDate=new Date(prevYear,prevMonth-1,totalDaysInPrevMonth-i+1);currentWeek.push({isAnotherMonth:!0,day:prevDate.getDate(),month:prevDate.getMonth()+1,year:prevDate.getFullYear(),unix:Math.floor(prevDate.getTime()/1e3),ISO8601:`${prevDate.getFullYear()}-${prevDate.getMonth()+1}-${prevDate.getDate()}`})}}else for(let i=0;i<diffDaysOfFirstWeek;i++)currentWeek.push({day:-1});for(let day=1;day<=totalDaysInMonth;day++){const currentDate=new Date(year,month-1,day);let buildCurrentWeek={isAnotherMonth:!1,day:currentDate.getDate(),month:currentDate.getMonth()+1,year:currentDate.getFullYear(),unix:Math.floor(currentDate.getTime()/1e3),ISO8601:`${currentDate.getFullYear()}-${currentDate.getMonth()+1}-${currentDate.getDate()}`};if("range"===type&&void 0!==endDate){const startDateToUnix=this.formatToUnix(startDate),endDateToUnix=this.formatToUnix(endDate),currentDateToUnix=this.formatToUnix(currentDate);currentDateToUnix>=startDateToUnix&&currentDateToUnix<=endDateToUnix&&(buildCurrentWeek.isSelected=!0)}else buildCurrentWeek.isSelected=!1;currentWeek.push(buildCurrentWeek),7===currentWeek.length&&(weeks.push(currentWeek),currentWeek=[])}if(currentWeek.length>0){const nextMonth=month+1>12?1:month+1,nextYear=month+1>12?year+1:year;let nextDay=1;for(;currentWeek.length<7;){const nextDate=new Date(nextYear,nextMonth-1,nextDay);currentWeek.push({isAnotherMonth:!0,day:nextDate.getDate(),month:nextDate.getMonth()+1,year:nextDate.getFullYear(),unix:Math.floor(nextDate.getTime()/1e3),ISO8601:`${nextDate.getFullYear()}-${nextDate.getMonth()+1}-${nextDate.getDate()}`}),nextDay++}weeks.push(currentWeek)}this._initWeeks.next(weeks)}onSelectedDateSingle(ISO8601){const newDate=new Date(ISO8601);return newDate.setHours(0,0,0,0),newDate}getDayOfWeek(date){return date.getDay()}getDaysFromAnotherMonth(event,date,index){switch(event){case"prev":return new Date(new Date(date).setDate(date.getDate()-(index+1)));case"next":return new Date(new Date(date).setDate(date.getDate()+(index+1)))}}getDiffDaysOfWeek(year,month){const m=month<3?month+12:month,y=month<3?year-1:year,k=Math.floor(y/100),j=y%100;return((1+Math.floor(13*(m+1)/5)+j+Math.floor(j/4)+Math.floor(k/4)-2*k)%7+5)%7}getFirstDayOfMonth(year,month){return new Date(year,month-1,1)}getLastDayOfMonth(year,month){const firstDayMonth=new Date(year,month+1,1);return new Date(new Date(firstDayMonth).setDate(firstDayMonth.getDate()-1))}getDaysInMonth(date,index){const prevDate=new Date(date).setDate(date.getDate()-index);console.log("Date:",prevDate);this.getDay(new Date(prevDate)),this.getMonth(new Date(prevDate)),this.getYear(new Date(prevDate));return parseInt(new Date(prevDate).toLocaleString("es-ES",{day:"2-digit"}))}formatToUnix(date){const newDate=new Date(date);return newDate.setHours(0,0,0,0),Math.floor(newDate.getTime()/1e3)}getTotalDaysInMonth(year,month){return new Date(year,month+1,0).getDate()}getDay(date){return parseInt(date.toLocaleString("es-ES",{day:"2-digit"}))}getDayToString(date){return date.toLocaleString("es-ES",{day:"2-digit"})}getMonth(date){return parseInt(date.toLocaleString("es-ES",{month:"2-digit"}))}getMonthToString(date){return date.toLocaleString("es-ES",{month:"2-digit"})}getYear(date){return date.getFullYear()}isLeapYear(year){return year%4==0&&(year%100!=0||year%400==0)}static{this.ctorParameters=()=>[]}};CalendarService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.Sn)("design:paramtypes",[])],CalendarService);var Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js");let CoreManjonUI=class CoreManjonUI{constructor(){this.translationSource=new Subject.B,this.translationObserver=this.translationSource.asObservable(),this.translation={"es-ES":{dayNames:["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],dayNamesShort:["lun","mar","mié","jue","vie","sáb","dom"],dayNamesMin:["L","M","X","J","V","S","D"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],prevMonth:"Mes anterior",nextMonth:"Mes siguiente"},"en-US":{dayNames:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dayNamesShort:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],dayNamesMin:["M","T","W","T","F","S","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],prevMonth:"Previous Month",nextMonth:"Next Month"},"ca-CA":{dayNames:["dilluns","dimarts","dimecres","dijous","divendres","dissabte","diumenge"],dayNamesShort:["dil","dit","dic","dij","div","dis","dig"],dayNamesMin:["L","M","X","J","V","S","D"],monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],monthNamesShort:["gen","feb","mar","abr","mai","jun","jul","ago","set","oct","nov","des"],prevMonth:"Mes anterior",nextMonth:"Mes següent"}}}getTranslation(locale="en-US",key){return this.translation[locale][key]||console.warn(`Translation not found for locale: ${locale}, key: ${key}`),this.translation[locale][key]}};CoreManjonUI=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"})],CoreManjonUI);let UICalendarComponent=class UICalendarComponent{set startDate(start){const startDate=new Date(start);startDate.setHours(0,0,0,0),this._startDate=startDate,this.cdr.markForCheck()}set endDate(end){const endDate=new Date(end);endDate.setHours(0,0,0,0),console.log(endDate),this._endDate=endDate,this.cdr.markForCheck()}constructor(cdr,calendarService){this.cdr=cdr,this.calendarService=calendarService,this.type="single",this.locale="es-ES",this.cellAspectRatio=1,this.isShowDaysOtherMonth=!0,this.dateSelect=new core.EventEmitter,this.dateRangeSelect=new core.EventEmitter,this.dateMultipleSelect=new core.EventEmitter,this.config=(0,core.inject)(CoreManjonUI),this.currentDate=new Date,this._currentOptionDate="start",this.allmonth=this.config.getTranslation(this.locale,"monthNames")}ngOnInit(){const date=this._startDate||new Date;this.setYearMonth(date),this.initWeeks(),this.weeks=this.calendarService.initWeeks$,this.getDayNames(),console.log(this.allmonth)}getDayNames(){const dayNames=this.config.getTranslation(this.locale,"dayNames");Array.isArray(dayNames)&&(this.dayNames=dayNames)}ngOnChanges(changes){if(changes.type&&changes.type.previousValue!==changes.type.currentValue&&this.initWeeks(),changes.endDate&&changes.endDate.previousValue!==changes.endDate.currentValue){const endDate=new Date(changes.endDate.currentValue);endDate.setHours(0,0,0,0),this._endDate=endDate,this.setYearMonth(endDate),this.initWeeks()}if(changes.startDate&&changes.startDate.previousValue!==changes.startDate.currentValue){const startDate=new Date(changes.startDate.currentValue);startDate.setHours(0,0,0,0),this._startDate=startDate,this.setYearMonth(startDate),this.initWeeks()}changes.locale&&changes.locale.previousValue!==changes.locale.currentValue&&(this.getDayNames(),this.allmonth=this.config.getTranslation(this.locale,"monthNames"),console.log(this.allmonth))}ngOnDestroy(){this._subscriptionWeeks&&this._subscriptionWeeks.unsubscribe()}getDayName(index){return this.dayNames[index]}getTranslation(key){return this.config.getTranslation(this.locale,key)}initWeeks(){this.calendarService.decomposeMonthIntoWeeks(this.currentYear,this.currentMonth,this.type,this.isShowDaysOtherMonth,this._startDate,this._endDate)}trackByIndex(index,item){return index}trackByIndexToDayNames(index,item){return index}setCellAspectRatio(numCols){const padding=100*this.cellAspectRatio/numCols/2;this._cellPadding=`${padding.toFixed(2)}%`,this._cellWidth=100/numCols+"%",this.cdr.markForCheck()}onPrevMonth(){1===this.currentMonth?(this.currentMonth=12,this.currentYear--):this.currentMonth--,this.initWeeks(),this.cdr.markForCheck()}onNextMonth(){this.currentMonth+1===12?(this.currentMonth=1,this.currentYear++):this.currentMonth++,this.initWeeks(),this.cdr.markForCheck()}isDateSelected(dateUnix){return dateUnix===this.calendarService.formatToUnix(this._startDate)}isCurrentDate(dateUnix){const currentDateToUnix=this.calendarService.formatToUnix(new Date);return!!dateUnix&&dateUnix===currentDateToUnix}onSelectedDate(option){switch(this.type){case"single":const startDate=this.calendarService.onSelectedDateSingle(option?.ISO8601);this._startDate=startDate,this.dateSelect.emit(startDate);break;case"range":this.onSelectedDateRange(option?.ISO8601),this.toggleOptionDate()}this.cdr.markForCheck()}onSelectedDateRange(ISO8601){switch(this._currentOptionDate){case"start":const startDate=this.calendarService.onSelectedDateSingle(ISO8601);this._startDate=startDate,this.initWeeks();break;case"end":const endDate=this.calendarService.onSelectedDateSingle(ISO8601);this._endDate=endDate,this.initWeeks(),this.verifyDateRange()&&this.dateRangeSelect.emit({start:this._startDate,end:this._endDate})}}isEndDateRange(dateUnix){return!!this._endDate&&dateUnix===this.calendarService.formatToUnix(this._endDate)}getCurrentMonth(){return this.allmonth[new Date(this._startDate||new Date).getMonth()]??"0"}getCurrentYear(){return this._startDate.getFullYear()??(new Date).getFullYear()}setYearMonth(date){const currentDate=new Date(date);this.currentYear=currentDate.getFullYear(),this.currentMonth=currentDate.getMonth()+1}toggleOptionDate(){"start"===this._currentOptionDate?(this._endDate&&(this._endDate=void 0),this._currentOptionDate="end"):(this.initWeeks(),this._currentOptionDate="start")}verifyDateRange(){if(!this._endDate)return!1;const startDateToUnix=this.calendarService.formatToUnix(this._startDate);return!!(this.calendarService.formatToUnix(this._endDate)>=startDateToUnix)}static{this.ctorParameters=()=>[{type:core.ChangeDetectorRef},{type:CalendarService}]}static{this.propDecorators={startDate:[{type:core.Input}],endDate:[{type:core.Input}],type:[{type:core.Input}],locale:[{type:core.Input}],limitYearsPreview:[{type:core.Input}],cellAspectRatio:[{type:core.Input}],isShowDaysOtherMonth:[{type:core.Input,args:[{transform:core.booleanAttribute}]}],isResponsive:[{type:core.Input,args:[{transform:core.booleanAttribute}]}],isSelectable:[{type:core.Input,args:[{transform:core.booleanAttribute}]}],isSelectCurrentDay:[{type:core.Input,args:[{transform:core.booleanAttribute}]}],dateSelect:[{type:core.Output}],dateRangeSelect:[{type:core.Output}],dateMultipleSelect:[{type:core.Output}]}}};UICalendarComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"ui-calendar",standalone:!0,imports:[common.CommonModule],template:'<div class="ui-calendar">\n  <div class="ui-calendar-controls">\n    <button aria-label="Preview Month" (click)="onPrevMonth()">\n      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M15.8326 4.18024C16.0558 4.42056 16.0558 4.8102 15.8326 5.05053L9.37955 12L15.8326 18.9495C16.0558 19.1898 16.0558 19.5794 15.8326 19.8198C15.6095 20.0601 15.2477 20.0601 15.0245 19.8198L8.16737 12.4351C7.94421 12.1948 7.94421 11.8052 8.16737 11.5649L15.0245 4.18024C15.2477 3.93992 15.6095 3.93992 15.8326 4.18024Z" fill="black"/>\n      </svg>\n    </button>\n    <div class="ui-calendar-controls-others">\n      <button>{{ getCurrentMonth() }}</button>\n      <button>\n        {{ getCurrentYear() }}\n      </button>\n    </div>\n    <button aria-label="Next Month" (click)="onNextMonth()">\n      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.16737 4.18024C8.39052 3.93992 8.75233 3.93992 8.97549 4.18024L15.8326 11.5649C15.9398 11.6803 16 11.8368 16 12C16 12.1632 15.9398 12.3197 15.8326 12.4351L8.97549 19.8198C8.75233 20.0601 8.39052 20.0601 8.16737 19.8198C7.94421 19.5794 7.94421 19.1898 8.16737 18.9495L14.6204 12L8.16737 5.05053C7.94421 4.8102 7.94421 4.42056 8.16737 4.18024Z" fill="black"/>\n      </svg>\n    </button>\n  </div>\n  <table role="grid" class="ui-calendar-table">\n    <thead class="ui-calendar-table-head">\n      @if (getTranslation(\'dayNamesShort\')) {\n        <tr>\n          @for (name of getTranslation(\'dayNamesShort\'); let idx = $index; track trackByIndexToDayNames;) {\n            <th scope="col">\n              <span class="visually-hidden"> {{ getDayName(idx) | titlecase }} </span>\n              <span aria-hidden="true">{{ name | uppercase }}</span>\n            </th>\n          }\n        </tr>\n      }\n    </thead>\n    <tbody class="ui-calendar-table-body">\n      @for (week of weeks | async; let idx = $index; track trackByIndex;) {\n      <tr role="row">\n        @for (day of week; track day.ISO8601) {\n          <td\n            role="gridcell"\n            [style.width]="_cellWidth"\n            [style.paddingTop]="_cellPadding"\n            [style.paddingBottom]="_cellPadding"\n            >\n            <button\n              role="option"\n              [class.readonly]="day.isAnotherMonth"\n              [attr.disabled]="day.isAnotherMonth || null"\n              [class.range]="day.isSelected && _endDate && type === \'range\'"\n              [class.end-date]="isEndDateRange(day.unix)"\n              [attr.tabIndex]="day.isAnotherMonth ? -1 : 0"\n              [attr.aria-current]="isSelectCurrentDay && type === \'single\' ? (isCurrentDate(day.unix) ? \'date\' : null) : null"\n              [attr.aria-selected]="isDateSelected(day.unix)"\n              [attr.data-date]="day.ISO8601 || null"\n              (click)="onSelectedDate(day)">\n              {{ day.day }}\n            </button>\n          </td>\n        }\n      </tr>\n      }\n    </tbody>\n  </table>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,encapsulation:core.ViewEncapsulation.None,styles:[calendar_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[core.ChangeDetectorRef,CalendarService])],UICalendarComponent);var angular_dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs");const calendar_stories={title:"Components/Calendar",args:{locale:"en-US",type:"single",startDate:new Date("2025/01/01"),endDate:new Date("2025/01/05"),isSelectCurrentDay:!1,dateSelect:(0,dist.XI)("Date selected"),dateRangeSelect:(0,dist.XI)("Date selected")},argTypes:{locale:{control:"select",options:["es-ES","en-US","ca-CA"]},type:{control:"select",options:["single","range"]},startDate:{control:"date",defaultValue:"2025/01/28"},endDate:{control:"date",defaultValue:"2025/01/28"}},decorators:[(0,angular_dist.moduleMetadata)({imports:[UICalendarComponent]})],parameters:{component:UICalendarComponent}},Default={render:args=>({template:'<ui-calendar\n                  [locale]="locale"\n                  [type]="type"\n                  [startDate]="startDate"\n                  [endDate]="endDate"\n                  [isSelectCurrentDay]="isSelectCurrentDay"\n                  (dateSelect)="dateSelect($event)"\n                  (dateRangeSelect)="dateRangeSelect($event)"\n                />',props:{...args,dateSelect:(0,dist.XI)("Date selected"),dateRangeSelect:(0,dist.XI)("Range Dates selected")}})},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render(args) {\n    return {\n      template: `<ui-calendar\n                  [locale]="locale"\n                  [type]="type"\n                  [startDate]="startDate"\n                  [endDate]="endDate"\n                  [isSelectCurrentDay]="isSelectCurrentDay"\n                  (dateSelect)="dateSelect($event)"\n                  (dateRangeSelect)="dateRangeSelect($event)"\n                />`,\n      props: {\n        ...args,\n        dateSelect: action(\'Date selected\'),\n        dateRangeSelect: action(\'Range Dates selected\')\n      }\n    };\n  }\n}',...Default.parameters?.docs?.source}}}}}]);